import{a6 as S,aA as C,aB as f,v as k,I as z,y as e,z as o,A as c,C as l,aw as n,a8 as U,a9 as B,aD as N,aC as g}from"./index-49f4e068.js";import{E as R}from"./el-overlay-4471a27b.js";import{a as A,E as D}from"./el-form-item-b54faaaa.js";import{E as j}from"./el-input-db802a4c.js";import{E as F,g as $,h as L,e as M,f as T}from"./index-ba1dc6a7.js";import{r as u,u as I}from"./websocket-7cbed28b.js";import"./scroll-fc8f63e7.js";import"./index-f0e26008.js";const W=i=>(U("data-v-7f1b6322"),i=i(),B(),i),q={class:"all"},G=W(()=>c("div",{class:"title"},[c("h1",{style:{"font-size":"48px"}}," 欢迎来到围棋平台 ")],-1)),H={slot:"footer",class:"dialog-footer"},J={__name:"IndexView",setup(i){const _=C(),v=()=>{localStorage.removeItem("Authorization"),N.defaults.headers.common.Authorization=null,g.success("已退出登录"),_.push("/")};let m=f({state:!1}),d=f({roomid:""});const E=()=>{$("/api/room/"+localStorage.getItem("userid"),{},t=>{localStorage.setItem("roomid",t.result.roomId),u.name=t.result.createUserName,u.id=t.result.createUserId,g.success("创建成功!"),_.push("/game")})},V=()=>{L("/api/room/enter/"+localStorage.getItem("userid")+"/"+d.roomid,t=>{localStorage.setItem("roomid",t.result.roomId),u.id=t.result.createUserId,u.name=t.result.createUserName,I.name=localStorage.getItem("username"),I.id=localStorage.getItem("userid"),_.push("/game")})};return(t,a)=>{const s=M,p=T,b=F,w=j,h=A,x=D,y=R;return k(),z("div",q,[G,e(b,{style:{"text-align":"center"}},{default:o(()=>[e(p,null,{default:o(()=>[e(s,{onClick:E,class:"button",type:"success",size:"large",plain:""},{default:o(()=>[n("创建房间")]),_:1})]),_:1}),e(p,null,{default:o(()=>[e(s,{onClick:a[0]||(a[0]=r=>l(m).state=!0),class:"button",type:"success",size:"large",plain:""},{default:o(()=>[n("加入房间")]),_:1})]),_:1}),e(p,null,{default:o(()=>[e(s,{onClick:v,class:"button",type:"danger",size:"large",plain:""},{default:o(()=>[n("退出登录")]),_:1})]),_:1})]),_:1}),c("div",null,[e(y,{title:"加入房间",modelValue:l(m).state,"onUpdate:modelValue":a[3]||(a[3]=r=>l(m).state=r),width:"40%"},{default:o(()=>[e(x,{model:l(d)},{default:o(()=>[e(h,{label:"房间ID","label-width":t.formLabelWidth},{default:o(()=>[e(w,{modelValue:l(d).roomid,"onUpdate:modelValue":a[1]||(a[1]=r=>l(d).roomid=r),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1},8,["model"]),c("div",H,[e(s,{onClick:a[2]||(a[2]=r=>l(m).state=!1)},{default:o(()=>[n("取 消")]),_:1}),e(s,{type:"primary",onClick:V},{default:o(()=>[n("确 定")]),_:1})])]),_:1},8,["modelValue"])])])}}},oe=S(J,[["__scopeId","data-v-7f1b6322"]]);export{oe as default};
