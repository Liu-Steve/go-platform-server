import{a6 as ee,G as A,h as w,z as pe,L as he,B as ye,v as K,U as E,N as Ue,ac as ne,g as L,ad as ke,o as S,d as we,w as xe,a as ae,n as x,u as b,I as _,c as C,a0 as $,aa as N,ae as R,i as Y,K as Me,t as Se,Y as Ce,j as V,e as Le,k as ze,F as Ke,$ as Ve,q as He}from"./index-2a71d1d1.js";import{h as Te,U,l as We,m as Q,n as Ee,g as le,o as Oe,j as qe}from"./index-a572bf9a.js";import{a8 as te,a9 as D,o as F,aa as Je,f as Ye,g as se,ab as Ae,t as Qe,c as Xe,n as Ze,ac as je,B as re,x as H,U as W,u as X,_ as Z,b as en,d as nn,w as an,V as Ie}from"./base-e0572276.js";import{c as Be,d as ln,U as oe,g as ie,e as ue,a as de,S as M,b as tn,f as sn}from"./el-input-1c263da8.js";import{E as rn}from"./index-8cf2a554.js";function on(e){return e}function un(e,n,l){switch(l.length){case 0:return e.call(n);case 1:return e.call(n,l[0]);case 2:return e.call(n,l[0],l[1]);case 3:return e.call(n,l[0],l[1],l[2])}return e.apply(n,l)}var dn=800,fn=16,cn=Date.now;function bn(e){var n=0,l=0;return function(){var a=cn(),s=fn-(a-l);if(l=a,s>0){if(++n>=dn)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}function vn(e){return function(){return e}}var mn=te?function(e,n){return te(e,"toString",{configurable:!0,enumerable:!1,value:vn(n),writable:!0})}:on;const gn=mn;var pn=bn(gn);const hn=pn;var fe=Math.max;function yn(e,n,l){return n=fe(n===void 0?e.length-1:n,0),function(){for(var a=arguments,s=-1,t=fe(a.length-n,0),o=Array(t);++s<t;)o[s]=a[n+s];s=-1;for(var r=Array(n+1);++s<n;)r[s]=a[s];return r[n]=l(o),un(e,this,r)}}var ce=D?D.isConcatSpreadable:void 0;function kn(e){return F(e)||Be(e)||!!(ce&&e&&e[ce])}function Pe(e,n,l,a,s){var t=-1,o=e.length;for(l||(l=kn),s||(s=[]);++t<o;){var r=e[t];n>0&&l(r)?n>1?Pe(r,n-1,l,a,s):ln(s,r):a||(s[s.length]=r)}return s}function wn(e){var n=e==null?0:e.length;return n?Pe(e,1):[]}function xn(e){return hn(yn(e,void 0,wn),e+"")}var Sn="__lodash_hash_undefined__";function Cn(e){return this.__data__.set(e,Sn),this}function Ln(e){return this.__data__.has(e)}function G(e){var n=-1,l=e==null?0:e.length;for(this.__data__=new Je;++n<l;)this.add(e[n])}G.prototype.add=G.prototype.push=Cn;G.prototype.has=Ln;function Tn(e,n){for(var l=-1,a=e==null?0:e.length;++l<a;)if(n(e[l],l,e))return!0;return!1}function En(e,n){return e.has(n)}var On=1,An=2;function _e(e,n,l,a,s,t){var o=l&On,r=e.length,c=n.length;if(r!=c&&!(o&&c>r))return!1;var i=t.get(e),m=t.get(n);if(i&&m)return i==n&&m==e;var h=-1,y=!0,f=l&An?new G:void 0;for(t.set(e,n),t.set(n,e);++h<r;){var u=e[h],v=n[h];if(a)var g=o?a(v,u,h,n,e,t):a(u,v,h,e,n,t);if(g!==void 0){if(g)continue;y=!1;break}if(f){if(!Tn(n,function(p,k){if(!En(f,k)&&(u===p||s(u,p,l,a,t)))return f.push(k)})){y=!1;break}}else if(!(u===v||s(u,v,l,a,t))){y=!1;break}}return t.delete(e),t.delete(n),y}function In(e){var n=-1,l=Array(e.size);return e.forEach(function(a,s){l[++n]=[s,a]}),l}function Bn(e){var n=-1,l=Array(e.size);return e.forEach(function(a){l[++n]=a}),l}var Pn=1,_n=2,$n="[object Boolean]",Nn="[object Date]",Rn="[object Error]",Dn="[object Map]",Fn="[object Number]",Gn="[object RegExp]",Un="[object Set]",Mn="[object String]",zn="[object Symbol]",Kn="[object ArrayBuffer]",Vn="[object DataView]",be=D?D.prototype:void 0,z=be?be.valueOf:void 0;function Hn(e,n,l,a,s,t,o){switch(l){case Vn:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case Kn:return!(e.byteLength!=n.byteLength||!t(new oe(e),new oe(n)));case $n:case Nn:case Fn:return Ye(+e,+n);case Rn:return e.name==n.name&&e.message==n.message;case Gn:case Mn:return e==n+"";case Dn:var r=In;case Un:var c=a&Pn;if(r||(r=Bn),e.size!=n.size&&!c)return!1;var i=o.get(e);if(i)return i==n;a|=_n,o.set(e,n);var m=_e(r(e),r(n),a,s,t,o);return o.delete(e),m;case zn:if(z)return z.call(e)==z.call(n)}return!1}var Wn=1,qn=Object.prototype,Jn=qn.hasOwnProperty;function Yn(e,n,l,a,s,t){var o=l&Wn,r=ie(e),c=r.length,i=ie(n),m=i.length;if(c!=m&&!o)return!1;for(var h=c;h--;){var y=r[h];if(!(o?y in n:Jn.call(n,y)))return!1}var f=t.get(e),u=t.get(n);if(f&&u)return f==n&&u==e;var v=!0;t.set(e,n),t.set(n,e);for(var g=o;++h<c;){y=r[h];var p=e[y],k=n[y];if(a)var j=o?a(k,p,y,n,e,t):a(p,k,y,e,n,t);if(!(j===void 0?p===k||s(p,k,l,a,t):j)){v=!1;break}g||(g=y=="constructor")}if(v&&!g){var I=e.constructor,B=n.constructor;I!=B&&"constructor"in e&&"constructor"in n&&!(typeof I=="function"&&I instanceof I&&typeof B=="function"&&B instanceof B)&&(v=!1)}return t.delete(e),t.delete(n),v}var Qn=1,ve="[object Arguments]",me="[object Array]",P="[object Object]",Xn=Object.prototype,ge=Xn.hasOwnProperty;function Zn(e,n,l,a,s,t){var o=F(e),r=F(n),c=o?me:ue(e),i=r?me:ue(n);c=c==ve?P:c,i=i==ve?P:i;var m=c==P,h=i==P,y=c==i;if(y&&de(e)){if(!de(n))return!1;o=!0,m=!1}if(y&&!m)return t||(t=new M),o||tn(e)?_e(e,n,l,a,s,t):Hn(e,n,c,l,a,s,t);if(!(l&Qn)){var f=m&&ge.call(e,"__wrapped__"),u=h&&ge.call(n,"__wrapped__");if(f||u){var v=f?e.value():e,g=u?n.value():n;return t||(t=new M),s(v,g,l,a,t)}}return y?(t||(t=new M),Yn(e,n,l,a,s,t)):!1}function $e(e,n,l,a,s){return e===n?!0:e==null||n==null||!se(e)&&!se(n)?e!==e&&n!==n:Zn(e,n,l,a,$e,s)}function jn(e,n){return e!=null&&n in Object(e)}function ea(e,n,l){n=Ae(n,e);for(var a=-1,s=n.length,t=!1;++a<s;){var o=Qe(n[a]);if(!(t=e!=null&&l(e,o)))break;e=e[o]}return t||++a!=s?t:(s=e==null?0:e.length,!!s&&sn(s)&&Xe(o,s)&&(F(e)||Be(e)))}function na(e,n){return e!=null&&ea(e,n,jn)}function aa(e,n){return $e(e,n)}function la(e,n,l){for(var a=-1,s=n.length,t={};++a<s;){var o=n[a],r=Ze(e,o);l(r,o)&&je(t,Ae(o,e),r)}return t}function ta(e,n){return la(e,n,function(l,a){return na(e,a)})}var sa=xn(function(e,n){return e==null?{}:ta(e,n)});const ra=sa,Ne={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object]},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:Te,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0}},Re={[U]:e=>ee(e)||re(e)||H(e),change:e=>ee(e)||re(e)||H(e)},T=Symbol("checkboxGroupContextKey"),oa=({model:e,isChecked:n})=>{const l=A(T,void 0),a=w(()=>{var t,o;const r=(t=l==null?void 0:l.max)==null?void 0:t.value,c=(o=l==null?void 0:l.min)==null?void 0:o.value;return!W(r)&&e.value.length>=r&&!n.value||!W(c)&&e.value.length<=c&&n.value});return{isDisabled:We(w(()=>(l==null?void 0:l.disabled.value)||a.value)),isLimitDisabled:a}},ia=(e,{model:n,isLimitExceeded:l,hasOwnLabel:a,isDisabled:s,isLabeledByFormItem:t})=>{const o=A(T,void 0),{formItem:r}=Q(),{emit:c}=ye();function i(u){var v,g;return u===e.trueLabel||u===!0?(v=e.trueLabel)!=null?v:!0:(g=e.falseLabel)!=null?g:!1}function m(u,v){c("change",i(u),v)}function h(u){if(l.value)return;const v=u.target;c("change",i(v.checked),u)}async function y(u){l.value||!a.value&&!s.value&&t.value&&(u.composedPath().some(p=>p.tagName==="LABEL")||(n.value=i([!1,e.falseLabel].includes(n.value)),await he(),m(n.value,u)))}const f=w(()=>(o==null?void 0:o.validateEvent)||e.validateEvent);return pe(()=>e.modelValue,()=>{f.value&&(r==null||r.validate("change").catch(u=>Ee()))}),{handleChange:h,onClickRoot:y}},ua=e=>{const n=K(!1),{emit:l}=ye(),a=A(T,void 0),s=w(()=>W(a)===!1),t=K(!1);return{model:w({get(){var r,c;return s.value?(r=a==null?void 0:a.modelValue)==null?void 0:r.value:(c=e.modelValue)!=null?c:n.value},set(r){var c,i;s.value&&E(r)?(t.value=((c=a==null?void 0:a.max)==null?void 0:c.value)!==void 0&&r.length>(a==null?void 0:a.max.value),t.value===!1&&((i=a==null?void 0:a.changeEvent)==null||i.call(a,r))):(l(U,r),n.value=r)}}),isGroup:s,isLimitExceeded:t}},da=(e,n,{model:l})=>{const a=A(T,void 0),s=K(!1),t=w(()=>{const i=l.value;return H(i)?i:E(i)?Ue(e.label)?i.map(ne).some(m=>aa(m,e.label)):i.map(ne).includes(e.label):i!=null?i===e.trueLabel:!!i}),o=le(w(()=>{var i;return(i=a==null?void 0:a.size)==null?void 0:i.value}),{prop:!0}),r=le(w(()=>{var i;return(i=a==null?void 0:a.size)==null?void 0:i.value})),c=w(()=>!!(n.default||e.label));return{checkboxButtonSize:o,isChecked:t,isFocused:s,checkboxSize:r,hasOwnLabel:c}},fa=(e,{model:n})=>{function l(){E(n.value)&&!n.value.includes(e.label)?n.value.push(e.label):n.value=e.trueLabel||!0}e.checked&&l()},De=(e,n)=>{const{formItem:l}=Q(),{model:a,isGroup:s,isLimitExceeded:t}=ua(e),{isFocused:o,isChecked:r,checkboxButtonSize:c,checkboxSize:i,hasOwnLabel:m}=da(e,n,{model:a}),{isDisabled:h}=oa({model:a,isChecked:r}),{inputId:y,isLabeledByFormItem:f}=Oe(e,{formItemContext:l,disableIdGeneration:m,disableIdManagement:s}),{handleChange:u,onClickRoot:v}=ia(e,{model:a,isLimitExceeded:t,hasOwnLabel:m,isDisabled:h,isLabeledByFormItem:f});return fa(e,{model:a}),{inputId:y,isLabeledByFormItem:f,isChecked:r,isDisabled:h,isFocused:o,checkboxButtonSize:c,checkboxSize:i,hasOwnLabel:m,model:a,handleChange:u,onClickRoot:v}},ca=["tabindex","role","aria-checked"],ba=["id","aria-hidden","name","tabindex","disabled","true-value","false-value"],va=["id","aria-hidden","disabled","value","name","tabindex"],ma=L({name:"ElCheckbox"}),ga=L({...ma,props:Ne,emits:Re,setup(e){const n=e,l=ke(),{inputId:a,isLabeledByFormItem:s,isChecked:t,isDisabled:o,isFocused:r,checkboxSize:c,hasOwnLabel:i,model:m,handleChange:h,onClickRoot:y}=De(n,l),f=X("checkbox"),u=w(()=>[f.b(),f.m(c.value),f.is("disabled",o.value),f.is("bordered",n.border),f.is("checked",t.value)]),v=w(()=>[f.e("input"),f.is("disabled",o.value),f.is("checked",t.value),f.is("indeterminate",n.indeterminate),f.is("focus",r.value)]);return(g,p)=>(S(),we(Le(!b(i)&&b(s)?"span":"label"),{class:x(b(u)),"aria-controls":g.indeterminate?g.controls:null,onClick:b(y)},{default:xe(()=>[ae("span",{class:x(b(v)),tabindex:g.indeterminate?0:void 0,role:g.indeterminate?"checkbox":void 0,"aria-checked":g.indeterminate?"mixed":void 0},[g.trueLabel||g.falseLabel?_((S(),C("input",{key:0,id:b(a),"onUpdate:modelValue":p[0]||(p[0]=k=>$(m)?m.value=k:null),class:x(b(f).e("original")),type:"checkbox","aria-hidden":g.indeterminate?"true":"false",name:g.name,tabindex:g.tabindex,disabled:b(o),"true-value":g.trueLabel,"false-value":g.falseLabel,onChange:p[1]||(p[1]=(...k)=>b(h)&&b(h)(...k)),onFocus:p[2]||(p[2]=k=>r.value=!0),onBlur:p[3]||(p[3]=k=>r.value=!1),onClick:p[4]||(p[4]=N(()=>{},["stop"]))},null,42,ba)),[[R,b(m)]]):_((S(),C("input",{key:1,id:b(a),"onUpdate:modelValue":p[5]||(p[5]=k=>$(m)?m.value=k:null),class:x(b(f).e("original")),type:"checkbox","aria-hidden":g.indeterminate?"true":"false",disabled:b(o),value:g.label,name:g.name,tabindex:g.tabindex,onChange:p[6]||(p[6]=(...k)=>b(h)&&b(h)(...k)),onFocus:p[7]||(p[7]=k=>r.value=!0),onBlur:p[8]||(p[8]=k=>r.value=!1),onClick:p[9]||(p[9]=N(()=>{},["stop"]))},null,42,va)),[[R,b(m)]]),ae("span",{class:x(b(f).e("inner"))},null,2)],10,ca),b(i)?(S(),C("span",{key:0,class:x(b(f).e("label"))},[Y(g.$slots,"default"),g.$slots.default?V("v-if",!0):(S(),C(Me,{key:0},[Se(Ce(g.label),1)],64))],2)):V("v-if",!0)]),_:3},8,["class","aria-controls","onClick"]))}});var pa=Z(ga,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox.vue"]]);const ha=["name","tabindex","disabled","true-value","false-value"],ya=["name","tabindex","disabled","value"],ka=L({name:"ElCheckboxButton"}),wa=L({...ka,props:Ne,emits:Re,setup(e){const n=e,l=ke(),{isFocused:a,isChecked:s,isDisabled:t,checkboxButtonSize:o,model:r,handleChange:c}=De(n,l),i=A(T,void 0),m=X("checkbox"),h=w(()=>{var f,u,v,g;const p=(u=(f=i==null?void 0:i.fill)==null?void 0:f.value)!=null?u:"";return{backgroundColor:p,borderColor:p,color:(g=(v=i==null?void 0:i.textColor)==null?void 0:v.value)!=null?g:"",boxShadow:p?`-1px 0 0 0 ${p}`:void 0}}),y=w(()=>[m.b("button"),m.bm("button",o.value),m.is("disabled",t.value),m.is("checked",s.value),m.is("focus",a.value)]);return(f,u)=>(S(),C("label",{class:x(b(y))},[f.trueLabel||f.falseLabel?_((S(),C("input",{key:0,"onUpdate:modelValue":u[0]||(u[0]=v=>$(r)?r.value=v:null),class:x(b(m).be("button","original")),type:"checkbox",name:f.name,tabindex:f.tabindex,disabled:b(t),"true-value":f.trueLabel,"false-value":f.falseLabel,onChange:u[1]||(u[1]=(...v)=>b(c)&&b(c)(...v)),onFocus:u[2]||(u[2]=v=>a.value=!0),onBlur:u[3]||(u[3]=v=>a.value=!1),onClick:u[4]||(u[4]=N(()=>{},["stop"]))},null,42,ha)),[[R,b(r)]]):_((S(),C("input",{key:1,"onUpdate:modelValue":u[5]||(u[5]=v=>$(r)?r.value=v:null),class:x(b(m).be("button","original")),type:"checkbox",name:f.name,tabindex:f.tabindex,disabled:b(t),value:f.label,onChange:u[6]||(u[6]=(...v)=>b(c)&&b(c)(...v)),onFocus:u[7]||(u[7]=v=>a.value=!0),onBlur:u[8]||(u[8]=v=>a.value=!1),onClick:u[9]||(u[9]=N(()=>{},["stop"]))},null,42,ya)),[[R,b(r)]]),f.$slots.default||f.label?(S(),C("span",{key:2,class:x(b(m).be("button","inner")),style:ze(b(s)?b(h):void 0)},[Y(f.$slots,"default",{},()=>[Se(Ce(f.label),1)])],6)):V("v-if",!0)],2))}});var Fe=Z(wa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-button.vue"]]);const xa=en({modelValue:{type:nn(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:Te,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0}}),Sa={[U]:e=>E(e),change:e=>E(e)},Ca=L({name:"ElCheckboxGroup"}),La=L({...Ca,props:xa,emits:Sa,setup(e,{emit:n}){const l=e,a=X("checkbox"),{formItem:s}=Q(),{inputId:t,isLabeledByFormItem:o}=Oe(l,{formItemContext:s}),r=async i=>{n(U,i),await he(),n("change",i)},c=w({get(){return l.modelValue},set(i){r(i)}});return Ke(T,{...ra(Ve(l),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:c,changeEvent:r}),pe(()=>l.modelValue,()=>{l.validateEvent&&(s==null||s.validate("change").catch(i=>Ee()))}),(i,m)=>{var h;return S(),we(Le(i.tag),{id:b(t),class:x(b(a).b("group")),role:"group","aria-label":b(o)?void 0:i.label||"checkbox-group","aria-labelledby":b(o)?(h=b(s))==null?void 0:h.labelId:void 0},{default:xe(()=>[Y(i.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var Ge=Z(La,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-group.vue"]]);const $a=an(pa,{CheckboxButton:Fe,CheckboxGroup:Ge});Ie(Fe);Ie(Ge);const d=He();var O=null;function Ta(e){try{"WebSocket"in window&&(O=new WebSocket(e),Oa(O,e))}catch(n){q(e),console.log(n)}}function Ea(){O.close(),d.ws_state=!1,J.reset()}function Oa(e,n){e.onopen=function(l){J.reset().start(),console.log("WebSocket已连接")},e.onclose=function(l){q(n),console.log("WebSocket连接已关闭")},e.onerror=function(l){q(n),console.log("WebSocket错误：",l)},e.onmessage=function(l){if(J.reset().start(),l.data!="Echo message: check"){let a=JSON.parse(l.data),s=Array(19*19).fill(0);if(a.mode===0||a.mode===1||a.mode===2||a.mode===3||a.mode===4){let t=a.message.board;for(let o=0;o<19;o++)for(let r=0;r<19;r++)t[o][r]===-1?s[o*19+r]=0:t[o][r]===0?s[o*19+r]=-1:t[o][r]===1&&(s[o*19+r]=1);d.jsonchessboard=JSON.parse(JSON.stringify(s))}switch(a.mode){case 0:if(d.chessboard=s,d.playerisblack=!d.playerisblack,!d.gamestart&&(d.gamestart=!0,d.showdialog=!1,d.blackplayer.id===d.userid)){let t=d.whiteplayer;d.whiteplayer=d.blackplayer,d.blackplayer=t}break;case 1:if(d.chessboard=s,d.playerisblack=!d.playerisblack,d.isdrop=!0,!d.gamestart&&(d.gamestart=!0,d.showdialog=!1,d.whiteplayer.id===d.userid)){let t=d.blackplayer;d.blackplayer=d.whiteplayer,d.whiteplayer=t}break;case 2:d.chessboard=s;break;case 3:d.chessboard=s,d.playerisblack=!d.playerisblack,d.isdrop=!0,rn({title:"对方选择停一手"});break;case 4:d.chessboard=s;break;case 10:d.roomowner.id=a.message.createUserId,d.roomowner.name=a.message.createUserName,d.roomplayer.id=a.message.secondUserId,d.roomplayer.id===-1?d.roomplayer.name="电脑玩家":qe("/api/user/"+d.roomplayer.id,t=>{d.roomplayer.name=t.result.username});break;case 11:d.roomplayer.id="",d.roomplayer.name="",d.roomowner.id=d.userid,d.roomowner.name=d.username,d.isowner=!0,d.showdialog=!0;break}}}}function q(e){d.ws_state&&setTimeout(function(){Ta(e)},2e3)}window.onbeforeunload=function(){Ea()};var J={timeout:5e3,timeoutObj:null,serverTimeoutObj:null,reset:function(){return clearTimeout(this.timeoutObj),clearTimeout(this.serverTimeoutObj),this},start:function(){var e=this;this.timeoutObj=setTimeout(function(){O.send("check"),e.serverTimeoutObj=setTimeout(function(){O.close()},e.timeout)},this.timeout)}};export{$a as E,Pe as a,$e as b,Ea as c,na as h,on as i,yn as o,hn as s,Ta as w};
