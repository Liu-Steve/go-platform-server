import{o as b,p as c,q as U,r as B,E as C}from"./base-3172b268.js";import{E as F}from"./el-link-ab8855b9.js";import{E as z,a as k}from"./el-form-item-e52bf23d.js";import{E as m,p as q,g as D,h as I,f as N}from"./index-b3182490.js";import{E as P}from"./el-input-10695b2f.js";/* empty css                */import{L as T,l as Z,o as L,c as M,a as l,b as e,w as s,u as d,O as w,D as u}from"./index-c39ab14b.js";import"./index-c8fadf17.js";const R={style:{"text-align":"center",margin:"0 20px"}},$=l("div",{style:{"margin-top":"100px"}},[l("div",{style:{"font-size":"25px","font-weight":"bold"}},"新用户注册"),l("div",{style:{"font-size":"14px",color:"grey"}},"欢迎注册我们的围棋平台")],-1),A={style:{"margin-top":"50px"}},O={style:{"margin-top":"75px"}},j={style:{"margin-top":"20px"}},G=l("span",{style:{"font-size":"14px",color:"grey"}},"已有帐号?",-1),te={__name:"RegisterPage",setup(H){const t=T({id:0,username:"",password:"",password_repeat:"",email:"",code:"",salt:0,status:0,createdDate:"2023-10-12T13:09:58.634Z",updatedDate:"2023-10-12T13:09:58.634Z"}),x={username:[{validator:(n,a,o)=>{a===""?o(new Error("请输入用户名")):/^[\u4E00-\u9FFFa-zA-Z0-9]+$/.test(a)?o():o(new Error("用户名不能包含特殊字符，只能是中文/英文"))},trigger:["blur","change"]},{min:2,max:8,message:"用户名长度必须在2-8字符之间",trigger:["blur","change"]}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:16,message:"密码长度必须在6-16字符之间",trigger:["blur","change"]}],password_repeat:[{validator:(n,a,o)=>{a===""?o(new Error("请再次输入密码")):a!==t.password?o(new Error("两次输入的密码不一致")):o()},trigger:["blur","change"]}],email:[{required:!0,message:"请输入电子邮件",trigger:"blur"},{type:"email",message:"请输入合法的电子邮件地址",trigger:["blur","change"]}]},_=Z(!1),y=(n,a)=>{n=="email"&&(_.value=a)},E=()=>{t.username?t.password?t.password_repeat!=t.password?m.warning("两次填写的密码需一致"):q("/api/user/register",{username:t.username,password:t.password,email:t.email},n=>{n.resultCode!=0?m.warning("账号已被注册！"):(m.success("注册成功!"),w.push("/"))}):m.warning("请填写密码"):m.warning("请填写用户名")};return(n,a)=>{const o=C,p=P,i=k,f=I,g=D,V=N,v=z,h=F;return L(),M("div",R,[$,l("div",A,[e(v,{model:t,rules:x,onValidate:y},{default:s(()=>[e(i,{prop:"username"},{default:s(()=>[e(p,{modelValue:t.username,"onUpdate:modelValue":a[0]||(a[0]=r=>t.username=r),type:"text",placeholder:"用户名"},{prefix:s(()=>[e(o,null,{default:s(()=>[e(d(b))]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(i,{prop:"password"},{default:s(()=>[e(p,{modelValue:t.password,"onUpdate:modelValue":a[1]||(a[1]=r=>t.password=r),type:"password",placeholder:"密码"},{prefix:s(()=>[e(o,null,{default:s(()=>[e(d(c))]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(i,{prop:"password_repeat"},{default:s(()=>[e(p,{modelValue:t.password_repeat,"onUpdate:modelValue":a[2]||(a[2]=r=>t.password_repeat=r),type:"password",placeholder:"重复密码"},{prefix:s(()=>[e(o,null,{default:s(()=>[e(d(c))]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(i,{prop:"email"},{default:s(()=>[e(p,{modelValue:t.email,"onUpdate:modelValue":a[3]||(a[3]=r=>t.email=r),type:"email",placeholder:"电子邮件"},{prefix:s(()=>[e(o,null,{default:s(()=>[e(d(U))]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(i,{prop:"code"},{default:s(()=>[e(V,{gutter:10},{default:s(()=>[e(f,{span:18},{default:s(()=>[e(p,{modelValue:t.code,"onUpdate:modelValue":a[4]||(a[4]=r=>t.code=r),type:"email",placeholder:"验证码"},{prefix:s(()=>[e(o,null,{default:s(()=>[e(d(B))]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(f,{span:6},{default:s(()=>[e(g,{type:"success",disabled:!_.value},{default:s(()=>[u("获取验证码")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),l("div",O,[e(g,{onClick:E,style:{width:"270px"},type:"warning",plain:""},{default:s(()=>[u(" 立即注册 ")]),_:1})]),l("div",j,[G,e(h,{onClick:a[5]||(a[5]=r=>d(w).push("/")),type:"primary",style:{translate:"0 -2px"}},{default:s(()=>[u(" 立即登录 ")]),_:1})])])}}};export{te as default};
