import{i as W,a as Ce,b as se,r as ze,g as Te,c as we,d as de,m as he,e as oe,f as le,h as me,j as Se,s as Ne,u as ye,k as _e,l as Oe,n as S,o as $e,p as Re,q as x,w as fe,t as ke,v as be,x as E,y as re,z as v,A as z,B as g,C as b,D as a,E as ve,F as Ae,G as O,H as M,I as Be,J as N,K as ie,L as Ve,M as Me,N as We,O as Xe,P as Ie,Q as Ye,R as De,S as Fe,T as Pe,U as He,V as ae,W as xe,X as je,_ as Ee,Y as K,Z as j,$ as Ke,a0 as Le,a1 as Ze,a2 as Ue,a3 as qe,a4 as Ge,a5 as Je,a6 as Qe,a7 as et,a8 as tt,a9 as nt,aa as at}from"./index-093e101b.js";import{u as st}from"./index-4ca25956.js";const ot=(e,r)=>{if(!W||!e||!r)return!1;const t=e.getBoundingClientRect();let o;return r instanceof Element?o=r.getBoundingClientRect():o={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},t.top<o.bottom&&t.bottom>o.top&&t.right>o.left&&t.left<o.right};var rt=/\s/;function it(e){for(var r=e.length;r--&&rt.test(e.charAt(r)););return r}var lt=/^\s+/;function ut(e){return e&&e.slice(0,it(e)+1).replace(lt,"")}var pe=0/0,ct=/^[-+]0x[0-9a-f]+$/i,dt=/^0b[01]+$/i,ft=/^0o[0-7]+$/i,vt=parseInt;function ge(e){if(typeof e=="number")return e;if(Ce(e))return pe;if(se(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=se(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=ut(e);var t=dt.test(e);return t||ft.test(e)?vt(e.slice(2),t?2:8):ct.test(e)?pe:+e}var mt=function(){return ze.Date.now()};const ue=mt;var pt="Expected a function",gt=Math.max,wt=Math.min;function ht(e,r,t){var o,c,w,l,h,k,I=0,L=!1,y=!1,m=!0;if(typeof e!="function")throw new TypeError(pt);r=ge(r)||0,se(t)&&(L=!!t.leading,y="maxWait"in t,w=y?gt(ge(t.maxWait)||0,r):w,m="trailing"in t?!!t.trailing:m);function p(u){var _=o,A=c;return o=c=void 0,I=u,l=e.apply(A,_),l}function d(u){return I=u,h=setTimeout(R,r),L?p(u):l}function X(u){var _=u-k,A=u-I,P=r-_;return y?wt(P,w-A):P}function $(u){var _=u-k,A=u-I;return k===void 0||_>=r||_<0||y&&A>=w}function R(){var u=ue();if($(u))return F(u);h=setTimeout(R,X(u))}function F(u){return h=void 0,m&&o?p(u):(o=c=void 0,l)}function Z(){h!==void 0&&clearTimeout(h),I=0,o=k=c=h=void 0}function Y(){return h===void 0?l:F(ue())}function D(){var u=ue(),_=$(u);if(o=arguments,c=this,k=u,_){if(h===void 0)return d(k);if(y)return clearTimeout(h),h=setTimeout(R,r),p(k)}return h===void 0&&(h=setTimeout(R,r)),l}return D.cancel=Z,D.flush=Y,D}var yt="Expected a function";function ce(e,r,t){var o=!0,c=!0;if(typeof e!="function")throw new TypeError(yt);return se(t)&&(o="leading"in t?!!t.leading:o,c="trailing"in t?!!t.trailing:c),ht(e,r,{leading:o,maxWait:r,trailing:c})}const _t=(e,r)=>{if(!W)return!1;const t={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(r)],o=Te(e,t);return["scroll","auto","overlay"].some(c=>o.includes(c))},kt=(e,r)=>{if(!W)return;let t=e;for(;t;){if([window,document,document.documentElement].includes(t))return window;if(_t(t,r))return t;t=t.parentNode}return t},bt=we({urlList:{type:de(Array),default:()=>he([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2}}),It={close:()=>!0,switch:e=>oe(e),rotate:e=>oe(e)},xt=["src"],Et=le({name:"ElImageViewer"}),Lt=le({...Et,props:bt,emits:It,setup(e,{expose:r,emit:t}){const o=e,c={CONTAIN:{name:"contain",icon:me(Se)},ORIGINAL:{name:"original",icon:me(Ne)}},{t:w}=ye(),l=_e("image-viewer"),{nextZIndex:h}=Oe(),k=S(),I=S([]),L=$e(),y=S(!0),m=S(o.initialIndex),p=Re(c.CONTAIN),d=S({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),X=x(()=>{const{urlList:n}=o;return n.length<=1}),$=x(()=>m.value===0),R=x(()=>m.value===o.urlList.length-1),F=x(()=>o.urlList[m.value]),Z=x(()=>[l.e("btn"),l.e("prev"),l.is("disabled",!o.infinite&&$.value)]),Y=x(()=>[l.e("btn"),l.e("next"),l.is("disabled",!o.infinite&&R.value)]),D=x(()=>{const{scale:n,deg:i,offsetX:f,offsetY:C,enableTransition:B}=d.value;let T=f/n,V=C/n;switch(i%360){case 90:case-270:[T,V]=[V,-T];break;case 180:case-180:[T,V]=[-T,-V];break;case 270:case-90:[T,V]=[-V,T];break}const H={transform:`scale(${n}) rotate(${i}deg) translate(${T}px, ${V}px)`,transition:B?"transform .3s":""};return p.value.name===c.CONTAIN.name&&(H.maxWidth=H.maxHeight="100%"),H}),u=x(()=>oe(o.zIndex)?o.zIndex:h());function _(){P(),t("close")}function A(){const n=ce(f=>{switch(f.code){case j.esc:o.closeOnPressEscape&&_();break;case j.space:ee();break;case j.left:te();break;case j.up:s("zoomIn");break;case j.right:ne();break;case j.down:s("zoomOut");break}}),i=ce(f=>{const C=f.deltaY||f.deltaX;s(C<0?"zoomIn":"zoomOut",{zoomRate:o.zoomRate,enableTransition:!1})});L.run(()=>{K(document,"keydown",n),K(document,"wheel",i)})}function P(){L.stop()}function G(){y.value=!1}function J(n){y.value=!1,n.target.alt=w("el.image.error")}function Q(n){if(y.value||n.button!==0||!k.value)return;d.value.enableTransition=!1;const{offsetX:i,offsetY:f}=d.value,C=n.pageX,B=n.pageY,T=ce(H=>{d.value={...d.value,offsetX:i+H.pageX-C,offsetY:f+H.pageY-B}}),V=K(document,"mousemove",T);K(document,"mouseup",()=>{V()}),n.preventDefault()}function U(){d.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function ee(){if(y.value)return;const n=Ke(c),i=Object.values(c),f=p.value.name,B=(i.findIndex(T=>T.name===f)+1)%n.length;p.value=c[n[B]],U()}function q(n){const i=o.urlList.length;m.value=(n+i)%i}function te(){$.value&&!o.infinite||q(m.value-1)}function ne(){R.value&&!o.infinite||q(m.value+1)}function s(n,i={}){if(y.value)return;const{zoomRate:f,rotateDeg:C,enableTransition:B}={zoomRate:o.zoomRate,rotateDeg:90,enableTransition:!0,...i};switch(n){case"zoomOut":d.value.scale>.2&&(d.value.scale=Number.parseFloat((d.value.scale/f).toFixed(3)));break;case"zoomIn":d.value.scale<7&&(d.value.scale=Number.parseFloat((d.value.scale*f).toFixed(3)));break;case"clockwise":d.value.deg+=C,t("rotate",d.value.deg);break;case"anticlockwise":d.value.deg-=C,t("rotate",d.value.deg);break}d.value.enableTransition=B}return fe(F,()=>{ke(()=>{const n=I.value[0];n!=null&&n.complete||(y.value=!0)})}),fe(m,n=>{U(),t("switch",n)}),be(()=>{var n,i;A(),(i=(n=k.value)==null?void 0:n.focus)==null||i.call(n)}),r({setActiveItem:q}),(n,i)=>(E(),re(je,{to:"body",disabled:!n.teleported},[v(xe,{name:"viewer-fade",appear:""},{default:z(()=>[g("div",{ref_key:"wrapper",ref:k,tabindex:-1,class:b(a(l).e("wrapper")),style:ve({zIndex:a(u)})},[g("div",{class:b(a(l).e("mask")),onClick:i[0]||(i[0]=Ae(f=>n.hideOnClickModal&&_(),["self"]))},null,2),O(" CLOSE "),g("span",{class:b([a(l).e("btn"),a(l).e("close")]),onClick:_},[v(a(M),null,{default:z(()=>[v(a(Be))]),_:1})],2),O(" ARROW "),a(X)?O("v-if",!0):(E(),N(ie,{key:0},[g("span",{class:b(a(Z)),onClick:te},[v(a(M),null,{default:z(()=>[v(a(Ve))]),_:1})],2),g("span",{class:b(a(Y)),onClick:ne},[v(a(M),null,{default:z(()=>[v(a(Me))]),_:1})],2)],64)),O(" ACTIONS "),g("div",{class:b([a(l).e("btn"),a(l).e("actions")])},[g("div",{class:b(a(l).e("actions__inner"))},[v(a(M),{onClick:i[1]||(i[1]=f=>s("zoomOut"))},{default:z(()=>[v(a(We))]),_:1}),v(a(M),{onClick:i[2]||(i[2]=f=>s("zoomIn"))},{default:z(()=>[v(a(Xe))]),_:1}),g("i",{class:b(a(l).e("actions__divider"))},null,2),v(a(M),{onClick:ee},{default:z(()=>[(E(),re(Ie(a(p).icon)))]),_:1}),g("i",{class:b(a(l).e("actions__divider"))},null,2),v(a(M),{onClick:i[3]||(i[3]=f=>s("anticlockwise"))},{default:z(()=>[v(a(Ye))]),_:1}),v(a(M),{onClick:i[4]||(i[4]=f=>s("clockwise"))},{default:z(()=>[v(a(De))]),_:1})],2)],2),O(" CANVAS "),g("div",{class:b(a(l).e("canvas"))},[(E(!0),N(ie,null,Fe(n.urlList,(f,C)=>Pe((E(),N("img",{ref_for:!0,ref:B=>I.value[C]=B,key:f,src:f,style:ve(a(D)),class:b(a(l).e("img")),onLoad:G,onError:J,onMousedown:Q},null,46,xt)),[[He,C===m.value]])),128))],2),ae(n.$slots,"default")],6)]),_:3})],8,["disabled"]))}});var Ct=Ee(Lt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image-viewer/src/image-viewer.vue"]]);const zt=Le(Ct),Tt=we({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:de([String,Object])},previewSrcList:{type:de(Array),default:()=>he([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2}}),St={load:e=>e instanceof Event,error:e=>e instanceof Event,switch:e=>oe(e),close:()=>!0,show:()=>!0},Nt=["src","loading"],Ot={key:0},$t=le({name:"ElImage",inheritAttrs:!1}),Rt=le({...$t,props:Tt,emits:St,setup(e,{emit:r}){const t=e;let o="";const{t:c}=ye(),w=_e("image"),l=Ze(),h=st(),k=S(),I=S(!1),L=S(!0),y=S(!1),m=S(),p=S(),d=W&&"loading"in HTMLImageElement.prototype;let X,$;const R=x(()=>[w.e("inner"),Y.value&&w.e("preview"),L.value&&w.is("loading")]),F=x(()=>l.style),Z=x(()=>{const{fit:s}=t;return W&&s?{objectFit:s}:{}}),Y=x(()=>{const{previewSrcList:s}=t;return Array.isArray(s)&&s.length>0}),D=x(()=>{const{previewSrcList:s,initialIndex:n}=t;let i=n;return n>s.length-1&&(i=0),i}),u=x(()=>t.loading==="eager"?!1:!d&&t.loading==="lazy"||t.lazy),_=()=>{W&&(L.value=!0,I.value=!1,k.value=t.src)};function A(s){L.value=!1,I.value=!1,r("load",s)}function P(s){L.value=!1,I.value=!0,r("error",s)}function G(){ot(m.value,p.value)&&(_(),U())}const J=Qe(G,200,!0);async function Q(){var s;if(!W)return;await ke();const{scrollContainer:n}=t;qe(n)?p.value=n:Ge(n)&&n!==""?p.value=(s=document.querySelector(n))!=null?s:void 0:m.value&&(p.value=kt(m.value)),p.value&&(X=K(p,"scroll",J),setTimeout(()=>G(),100))}function U(){!W||!p.value||!J||(X==null||X(),p.value=void 0)}function ee(s){if(s.ctrlKey){if(s.deltaY<0)return s.preventDefault(),!1;if(s.deltaY>0)return s.preventDefault(),!1}}function q(){Y.value&&($=K("wheel",ee,{passive:!1}),o=document.body.style.overflow,document.body.style.overflow="hidden",y.value=!0,r("show"))}function te(){$==null||$(),document.body.style.overflow=o,y.value=!1,r("close")}function ne(s){r("switch",s)}return fe(()=>t.src,()=>{u.value?(L.value=!0,I.value=!1,U(),Q()):_()}),be(()=>{u.value?Q():_()}),(s,n)=>(E(),N("div",{ref_key:"container",ref:m,class:b([a(w).b(),s.$attrs.class]),style:ve(a(F))},[I.value?ae(s.$slots,"error",{key:0},()=>[g("div",{class:b(a(w).e("error"))},Je(a(c)("el.image.error")),3)]):(E(),N(ie,{key:1},[k.value!==void 0?(E(),N("img",Ue({key:0},a(h),{src:k.value,loading:s.loading,style:a(Z),class:a(R),onClick:q,onLoad:A,onError:P}),null,16,Nt)):O("v-if",!0),L.value?(E(),N("div",{key:1,class:b(a(w).e("wrapper"))},[ae(s.$slots,"placeholder",{},()=>[g("div",{class:b(a(w).e("placeholder"))},null,2)])],2)):O("v-if",!0)],64)),a(Y)?(E(),N(ie,{key:2},[y.value?(E(),re(a(zt),{key:0,"z-index":s.zIndex,"initial-index":a(D),infinite:s.infinite,"zoom-rate":s.zoomRate,"url-list":s.previewSrcList,"hide-on-click-modal":s.hideOnClickModal,teleported:s.previewTeleported,"close-on-press-escape":s.closeOnPressEscape,onClose:te,onSwitch:ne},{default:z(()=>[s.$slots.viewer?(E(),N("div",Ot,[ae(s.$slots,"viewer")])):O("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","url-list","hide-on-click-modal","teleported","close-on-press-escape"])):O("v-if",!0)],64)):O("v-if",!0)],6))}});var At=Ee(Rt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image/src/image.vue"]]);const Bt=Le(At);const Vt="/assets/test-cb18c267.jpg";const Mt=e=>(nt("data-v-f04fda70"),e=e(),at(),e),Wt={style:{whdth:"100vw",height:"100vh",overflow:"hidden",display:"flex"}},Xt={style:{flex:"1","background-color":"#6cf"}},Yt=Mt(()=>g("div",{class:"welcome-title"},[g("div",{style:{"font-size":"30px","font-weight":"bold"}},"欢迎来到围棋平台"),g("div",{style:{"margin-top":"20px"}})],-1)),Dt={style:{width:"400px","background-color":"white","z-index":"1"}},Ft={__name:"WelcomeView",setup(e){return(r,t)=>{const o=Bt,c=tt("router-view");return E(),N("div",Wt,[g("div",Xt,[v(o,{style:{width:"100%",height:"100%"},fit:"cover",src:a(Vt)},null,8,["src"])]),Yt,g("div",Dt,[v(c,null,{default:z(({Component:w})=>[v(xe,{name:"el-fade-in-linear",mode:"out-in"},{default:z(()=>[(E(),re(Ie(w)))]),_:2},1024)]),_:1})])])}}},jt=et(Ft,[["__scopeId","data-v-f04fda70"]]);export{jt as default};
