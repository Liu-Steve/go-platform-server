import{Y as ue,u as x,s as Q,aa as me,ab as Pe,ac as Ue,ad as Ye,O as _e,_ as X,l as j,m as ee,w as ie,C as Ke,E as He,j as ze,D as Ve,ae as xe,af as pe}from"./base-35d14e1b.js";import{$ as Xe,U as W,a5 as je,a0 as ne,z as We,a6 as Ge,j as K,a7 as qe,a4 as ae,l as O,s as F,I as Ae,u as a,C as h,n as ce,i as Ze,o as N,c as H,x as _,G as te,a as z,H as de,D as Je,E as Oe,b as V,a8 as Qe,g as Ee,h as P,w as B,d as oe,e as De,k as et,v as tt,y as ot,Z as nt,a9 as st,W as at,T as lt,X as rt}from"./index-10d3ea48.js";import{t as ut,q as ct,i as it,C as dt,U as Fe,o as ye,r as ft,s as be,l as vt,c as mt}from"./index-dfb80fbc.js";import{a as pt}from"./scroll-955ade41.js";const Et=(...e)=>t=>{e.forEach(o=>{Xe(o)?o(t):o.value=t})};var J=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(J||{});const yt=(e,t,o)=>{let n={offsetX:0,offsetY:0};const l=c=>{const v=c.clientX,T=c.clientY,{offsetX:m,offsetY:S}=n,b=e.value.getBoundingClientRect(),f=b.left,s=b.top,d=b.width,p=b.height,E=document.documentElement.clientWidth,y=document.documentElement.clientHeight,M=-f+m,I=-s+S,D=E-f-d+m,R=y-s-p+S,A=w=>{const i=Math.min(Math.max(m+w.clientX-v,M),D),L=Math.min(Math.max(S+w.clientY-T,I),R);n={offsetX:i,offsetY:L},e.value.style.transform=`translate(${ue(i)}, ${ue(L)})`},C=()=>{document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",C)};document.addEventListener("mousemove",A),document.addEventListener("mouseup",C)},r=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",l)},u=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",l)};W(()=>{je(()=>{o.value?r():u()})}),ne(()=>{u()})},bt=(e,t={})=>{We(e)||ut("[useLockscreen]","You need to pass a ref param to this function");const o=t.ns||x("popup"),n=Ge(()=>o.bm("parent","hidden"));if(!Q||me(document.body,n.value))return;let l=0,r=!1,u="0";const c=()=>{setTimeout(()=>{Ye(document==null?void 0:document.body,n.value),r&&document&&(document.body.style.width=u)},200)};K(e,v=>{if(!v){c();return}r=!me(document.body,n.value),r&&(u=document.body.style.width),l=pt(o.namespace.value);const T=document.documentElement.clientHeight<document.body.scrollHeight,m=Pe(document.body,"overflowY");l>0&&(T||m==="scroll")&&r&&(document.body.style.width=`calc(100% - ${l}px)`),Ue(document.body,n.value)}),qe(()=>c())},Ie=e=>{if(!e)return{onClick:ae,onMousedown:ae,onMouseup:ae};let t=!1,o=!1;return{onClick:u=>{t&&o&&e(u),t=o=!1},onMousedown:u=>{t=u.target===u.currentTarget},onMouseup:u=>{o=u.target===u.currentTarget}}};let Y=[];const Ce=e=>{const t=e;t.key===_e.esc&&Y.forEach(o=>o(t))},Ct=e=>{W(()=>{Y.length===0&&document.addEventListener("keydown",Ce),Q&&Y.push(e)}),ne(()=>{Y=Y.filter(t=>t!==e),Y.length===0&&Q&&document.removeEventListener("keydown",Ce)})},le="focus-trap.focus-after-trapped",re="focus-trap.focus-after-released",gt="focus-trap.focusout-prevented",ge={cancelable:!0,bubbles:!1},Tt={cancelable:!0,bubbles:!1},Te="focusAfterTrapped",Se="focusAfterReleased",Re=Symbol("elFocusTrap"),fe=O(),se=O(0),ve=O(0);let G=0;const Ne=e=>{const t=[],o=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const l=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||l?NodeFilter.FILTER_SKIP:n.tabIndex>=0||n===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;o.nextNode();)t.push(o.currentNode);return t},he=(e,t)=>{for(const o of e)if(!St(o,t))return o},St=(e,t)=>{if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1},ht=e=>{const t=Ne(e),o=he(t,e),n=he(t.reverse(),e);return[o,n]},wt=e=>e instanceof HTMLInputElement&&"select"in e,$=(e,t)=>{if(e&&e.focus){const o=document.activeElement;e.focus({preventScroll:!0}),ve.value=window.performance.now(),e!==o&&wt(e)&&t&&e.select()}};function we(e,t){const o=[...e],n=e.indexOf(t);return n!==-1&&o.splice(n,1),o}const Lt=()=>{let e=[];return{push:n=>{const l=e[0];l&&n!==l&&l.pause(),e=we(e,n),e.unshift(n)},remove:n=>{var l,r;e=we(e,n),(r=(l=e[0])==null?void 0:l.resume)==null||r.call(l)}}},kt=(e,t=!1)=>{const o=document.activeElement;for(const n of e)if($(n,t),document.activeElement!==o)return},Le=Lt(),_t=()=>se.value>ve.value,q=()=>{fe.value="pointer",se.value=window.performance.now()},ke=()=>{fe.value="keyboard",se.value=window.performance.now()},At=()=>(W(()=>{G===0&&(document.addEventListener("mousedown",q),document.addEventListener("touchstart",q),document.addEventListener("keydown",ke)),G++}),ne(()=>{G--,G<=0&&(document.removeEventListener("mousedown",q),document.removeEventListener("touchstart",q),document.removeEventListener("keydown",ke))}),{focusReason:fe,lastUserFocusTimestamp:se,lastAutomatedFocusTimestamp:ve}),Z=e=>new CustomEvent(gt,{...Tt,detail:e}),Ot=F({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[Te,Se,"focusin","focusout","focusout-prevented","release-requested"],setup(e,{emit:t}){const o=O();let n,l;const{focusReason:r}=At();Ct(s=>{e.trapped&&!u.paused&&t("release-requested",s)});const u={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},c=s=>{if(!e.loop&&!e.trapped||u.paused)return;const{key:d,altKey:p,ctrlKey:E,metaKey:y,currentTarget:M,shiftKey:I}=s,{loop:D}=e,R=d===_e.tab&&!p&&!E&&!y,A=document.activeElement;if(R&&A){const C=M,[w,i]=ht(C);if(w&&i){if(!I&&A===i){const g=Z({focusReason:r.value});t("focusout-prevented",g),g.defaultPrevented||(s.preventDefault(),D&&$(w,!0))}else if(I&&[w,C].includes(A)){const g=Z({focusReason:r.value});t("focusout-prevented",g),g.defaultPrevented||(s.preventDefault(),D&&$(i,!0))}}else if(A===C){const g=Z({focusReason:r.value});t("focusout-prevented",g),g.defaultPrevented||s.preventDefault()}}};Ae(Re,{focusTrapRef:o,onKeydown:c}),K(()=>e.focusTrapEl,s=>{s&&(o.value=s)},{immediate:!0}),K([o],([s],[d])=>{s&&(s.addEventListener("keydown",c),s.addEventListener("focusin",m),s.addEventListener("focusout",S)),d&&(d.removeEventListener("keydown",c),d.removeEventListener("focusin",m),d.removeEventListener("focusout",S))});const v=s=>{t(Te,s)},T=s=>t(Se,s),m=s=>{const d=a(o);if(!d)return;const p=s.target,E=s.relatedTarget,y=p&&d.contains(p);e.trapped||E&&d.contains(E)||(n=E),y&&t("focusin",s),!u.paused&&e.trapped&&(y?l=p:$(l,!0))},S=s=>{const d=a(o);if(!(u.paused||!d))if(e.trapped){const p=s.relatedTarget;!ct(p)&&!d.contains(p)&&setTimeout(()=>{if(!u.paused&&e.trapped){const E=Z({focusReason:r.value});t("focusout-prevented",E),E.defaultPrevented||$(l,!0)}},0)}else{const p=s.target;p&&d.contains(p)||t("focusout",s)}};async function b(){await ce();const s=a(o);if(s){Le.push(u);const d=s.contains(document.activeElement)?n:document.activeElement;if(n=d,!s.contains(d)){const E=new Event(le,ge);s.addEventListener(le,v),s.dispatchEvent(E),E.defaultPrevented||ce(()=>{let y=e.focusStartEl;Ze(y)||($(y),document.activeElement!==y&&(y="first")),y==="first"&&kt(Ne(s),!0),(document.activeElement===d||y==="container")&&$(s)})}}}function f(){const s=a(o);if(s){s.removeEventListener(le,v);const d=new CustomEvent(re,{...ge,detail:{focusReason:r.value}});s.addEventListener(re,T),s.dispatchEvent(d),!d.defaultPrevented&&(r.value=="keyboard"||!_t()||s.contains(document.activeElement))&&$(n??document.body),s.removeEventListener(re,T),Le.remove(u)}}return W(()=>{e.trapped&&b(),K(()=>e.trapped,s=>{s?b():f()})}),ne(()=>{e.trapped&&f()}),{onKeydown:c}}});function Dt(e,t,o,n,l,r){return h(e.$slots,"default",{handleKeydown:e.onKeydown})}var Ft=X(Ot,[["render",Dt],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]);const It=j({header:{type:String,default:""},bodyStyle:{type:ee([String,Object,Array]),default:""},bodyClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),Rt=F({name:"ElCard"}),Nt=F({...Rt,props:It,setup(e){const t=x("card");return(o,n)=>(N(),H("div",{class:_([a(t).b(),a(t).is(`${o.shadow}-shadow`)])},[o.$slots.header||o.header?(N(),H("div",{key:0,class:_(a(t).e("header"))},[h(o.$slots,"header",{},()=>[Je(Oe(o.header),1)])],2)):te("v-if",!0),z("div",{class:_([a(t).e("body"),o.bodyClass]),style:de(o.bodyStyle)},[h(o.$slots,"default")],6)],2))}});var Mt=X(Nt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/card/src/card.vue"]]);const co=ie(Mt),$t=j({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:ee([String,Array,Object])},zIndex:{type:ee([String,Number])}}),Bt={click:e=>e instanceof MouseEvent},Pt="overlay";var Ut=F({name:"ElOverlay",props:$t,emits:Bt,setup(e,{slots:t,emit:o}){const n=x(Pt),l=v=>{o("click",v)},{onClick:r,onMousedown:u,onMouseup:c}=Ie(e.customMaskEvent?void 0:l);return()=>e.mask?V("div",{class:[n.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:r,onMousedown:u,onMouseup:c},[h(t,"default")],J.STYLE|J.CLASS|J.PROPS,["onClick","onMouseup","onMousedown"]):Qe("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[h(t,"default")])}});const Yt=Ut,Me=Symbol("dialogInjectionKey"),$e=j({center:Boolean,alignCenter:Boolean,closeIcon:{type:it},customClass:{type:String,default:""},draggable:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),Kt={close:()=>!0},Ht=["aria-level"],zt=["aria-label"],Vt=["id"],xt=F({name:"ElDialogContent"}),Xt=F({...xt,props:$e,emits:Kt,setup(e){const t=e,{t:o}=Ke(),{Close:n}=dt,{dialogRef:l,headerRef:r,bodyId:u,ns:c,style:v}=Ee(Me),{focusTrapRef:T}=Ee(Re),m=P(()=>[c.b(),c.is("fullscreen",t.fullscreen),c.is("draggable",t.draggable),c.is("align-center",t.alignCenter),{[c.m("center")]:t.center},t.customClass]),S=Et(T,l),b=P(()=>t.draggable);return yt(l,r,b),(f,s)=>(N(),H("div",{ref:a(S),class:_(a(m)),style:de(a(v)),tabindex:"-1"},[z("header",{ref_key:"headerRef",ref:r,class:_(a(c).e("header"))},[h(f.$slots,"header",{},()=>[z("span",{role:"heading","aria-level":f.ariaLevel,class:_(a(c).e("title"))},Oe(f.title),11,Ht)]),f.showClose?(N(),H("button",{key:0,"aria-label":a(o)("el.dialog.close"),class:_(a(c).e("headerbtn")),type:"button",onClick:s[0]||(s[0]=d=>f.$emit("close"))},[V(a(He),{class:_(a(c).e("close"))},{default:B(()=>[(N(),oe(De(f.closeIcon||a(n))))]),_:1},8,["class"])],10,zt)):te("v-if",!0)],2),z("div",{id:a(u),class:_(a(c).e("body"))},[h(f.$slots,"default")],10,Vt),f.$slots.footer?(N(),H("footer",{key:0,class:_(a(c).e("footer"))},[h(f.$slots,"footer")],2)):te("v-if",!0)],6))}});var jt=X(Xt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const Wt=j({...$e,appendToBody:Boolean,beforeClose:{type:ee(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),Gt={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[Fe]:e=>ze(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},qt=(e,t)=>{const n=et().emit,{nextZIndex:l}=Ve();let r="";const u=ye(),c=ye(),v=O(!1),T=O(!1),m=O(!1),S=O(e.zIndex||l());let b,f;const s=ft("namespace",xe),d=P(()=>{const k={},U=`--${s.value}-dialog`;return e.fullscreen||(e.top&&(k[`${U}-margin-top`]=e.top),e.width&&(k[`${U}-width`]=ue(e.width))),k}),p=P(()=>e.alignCenter?{display:"flex"}:{});function E(){n("opened")}function y(){n("closed"),n(Fe,!1),e.destroyOnClose&&(m.value=!1)}function M(){n("close")}function I(){f==null||f(),b==null||b(),e.openDelay&&e.openDelay>0?{stop:b}=pe(()=>C(),e.openDelay):C()}function D(){b==null||b(),f==null||f(),e.closeDelay&&e.closeDelay>0?{stop:f}=pe(()=>w(),e.closeDelay):w()}function R(){function k(U){U||(T.value=!0,v.value=!1)}e.beforeClose?e.beforeClose(k):D()}function A(){e.closeOnClickModal&&R()}function C(){Q&&(v.value=!0)}function w(){v.value=!1}function i(){n("openAutoFocus")}function L(){n("closeAutoFocus")}function g(k){var U;((U=k.detail)==null?void 0:U.focusReason)==="pointer"&&k.preventDefault()}e.lockScroll&&bt(v);function Be(){e.closeOnPressEscape&&R()}return K(()=>e.modelValue,k=>{k?(T.value=!1,I(),m.value=!0,S.value=e.zIndex?S.value++:l(),ce(()=>{n("open"),t.value&&(t.value.scrollTop=0)})):v.value&&D()}),K(()=>e.fullscreen,k=>{t.value&&(k?(r=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=r)}),W(()=>{e.modelValue&&(v.value=!0,m.value=!0,I())}),{afterEnter:E,afterLeave:y,beforeLeave:M,handleClose:R,onModalClick:A,close:D,doClose:w,onOpenAutoFocus:i,onCloseAutoFocus:L,onCloseRequested:Be,onFocusoutPrevented:g,titleId:u,bodyId:c,closed:T,style:d,overlayDialogStyle:p,rendered:m,visible:v,zIndex:S}},Zt=["aria-label","aria-labelledby","aria-describedby"],Jt=F({name:"ElDialog",inheritAttrs:!1}),Qt=F({...Jt,props:Wt,emits:Gt,setup(e,{expose:t}){const o=e,n=tt();be({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},P(()=>!!n.title)),be({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},P(()=>!!o.customClass));const l=x("dialog"),r=O(),u=O(),c=O(),{visible:v,titleId:T,bodyId:m,style:S,overlayDialogStyle:b,rendered:f,zIndex:s,afterEnter:d,afterLeave:p,beforeLeave:E,handleClose:y,onModalClick:M,onOpenAutoFocus:I,onCloseAutoFocus:D,onCloseRequested:R,onFocusoutPrevented:A}=qt(o,r);Ae(Me,{dialogRef:r,headerRef:u,bodyId:m,ns:l,rendered:f,style:S});const C=Ie(M),w=P(()=>o.draggable&&!o.fullscreen);return t({visible:v,dialogContentRef:c}),(i,L)=>(N(),oe(rt,{to:"body",disabled:!i.appendToBody},[V(lt,{name:"dialog-fade",onAfterEnter:a(d),onAfterLeave:a(p),onBeforeLeave:a(E),persisted:""},{default:B(()=>[ot(V(a(Yt),{"custom-mask-event":"",mask:i.modal,"overlay-class":i.modalClass,"z-index":a(s)},{default:B(()=>[z("div",{role:"dialog","aria-modal":"true","aria-label":i.title||void 0,"aria-labelledby":i.title?void 0:a(T),"aria-describedby":a(m),class:_(`${a(l).namespace.value}-overlay-dialog`),style:de(a(b)),onClick:L[0]||(L[0]=(...g)=>a(C).onClick&&a(C).onClick(...g)),onMousedown:L[1]||(L[1]=(...g)=>a(C).onMousedown&&a(C).onMousedown(...g)),onMouseup:L[2]||(L[2]=(...g)=>a(C).onMouseup&&a(C).onMouseup(...g))},[V(a(Ft),{loop:"",trapped:a(v),"focus-start-el":"container",onFocusAfterTrapped:a(I),onFocusAfterReleased:a(D),onFocusoutPrevented:a(A),onReleaseRequested:a(R)},{default:B(()=>[a(f)?(N(),oe(jt,nt({key:0,ref_key:"dialogContentRef",ref:c},i.$attrs,{"custom-class":i.customClass,center:i.center,"align-center":i.alignCenter,"close-icon":i.closeIcon,draggable:a(w),fullscreen:i.fullscreen,"show-close":i.showClose,title:i.title,"aria-level":i.headerAriaLevel,onClose:a(y)}),st({header:B(()=>[i.$slots.title?h(i.$slots,"title",{key:1}):h(i.$slots,"header",{key:0,close:a(y),titleId:a(T),titleClass:a(l).e("title")})]),default:B(()=>[h(i.$slots,"default")]),_:2},[i.$slots.footer?{name:"footer",fn:B(()=>[h(i.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","aria-level","onClose"])):te("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,Zt)]),_:3},8,["mask","overlay-class","z-index"]),[[at,a(v)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var eo=X(Qt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const io=ie(eo),to=j({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:vt,default:""},truncated:{type:Boolean},tag:{type:String,default:"span"}}),oo=F({name:"ElText"}),no=F({...oo,props:to,setup(e){const t=e,o=mt(),n=x("text"),l=P(()=>[n.b(),n.m(t.type),n.m(o.value),n.is("truncated",t.truncated)]);return(r,u)=>(N(),oe(De(r.tag),{class:_(a(l))},{default:B(()=>[h(r.$slots,"default")]),_:3},8,["class"]))}});var so=X(no,[["__file","/home/runner/work/element-plus/element-plus/packages/components/text/src/text.vue"]]);const fo=ie(so);export{co as E,io as a,fo as b};
