import{i as j,a as Ce,b as se,r as ze,c as we,d as de,m as he,e as oe,f as le,g as me,h as Te,s as Se,u as ye,j as _e,k as Ne,l as S,n as Oe,o as $e,p as x,w as fe,q as be,t as ke,v as E,x as re,y as v,z,A as g,B as k,C as n,D as ve,E as Re,F as O,G as M,H as Ae,I as N,J as ie,K as Be,L as Ve,M as Me,N as We,O as Ie,P as Xe,Q as Ye,R as De,S as Fe,T as Pe,U as ae,V as xe,W as He,_ as Ee,X as K,Y as H,Z as je,$ as Le,a0 as Ke,a1 as Ze,a2 as Ue,a3 as qe,a4 as Ge,a5 as Je,a6 as Qe,a7 as et,a8 as tt,a9 as nt}from"./index-49f4e068.js";import{u as at}from"./index-f0e26008.js";import{g as st}from"./scroll-fc8f63e7.js";const ot=(e,r)=>{if(!j||!e||!r)return!1;const o=e.getBoundingClientRect();let s;return r instanceof Element?s=r.getBoundingClientRect():s={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},o.top<s.bottom&&o.bottom>s.top&&o.right>s.left&&o.left<s.right};var rt=/\s/;function it(e){for(var r=e.length;r--&&rt.test(e.charAt(r)););return r}var lt=/^\s+/;function ct(e){return e&&e.slice(0,it(e)+1).replace(lt,"")}var pe=0/0,ut=/^[-+]0x[0-9a-f]+$/i,dt=/^0b[01]+$/i,ft=/^0o[0-7]+$/i,vt=parseInt;function ge(e){if(typeof e=="number")return e;if(Ce(e))return pe;if(se(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=se(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=ct(e);var o=dt.test(e);return o||ft.test(e)?vt(e.slice(2),o?2:8):ut.test(e)?pe:+e}var mt=function(){return ze.Date.now()};const ce=mt;var pt="Expected a function",gt=Math.max,wt=Math.min;function ht(e,r,o){var s,f,w,l,h,b,I=0,L=!1,y=!1,m=!0;if(typeof e!="function")throw new TypeError(pt);r=ge(r)||0,se(o)&&(L=!!o.leading,y="maxWait"in o,w=y?gt(ge(o.maxWait)||0,r):w,m="trailing"in o?!!o.trailing:m);function p(c){var _=s,A=f;return s=f=void 0,I=c,l=e.apply(A,_),l}function u(c){return I=c,h=setTimeout(R,r),L?p(c):l}function W(c){var _=c-b,A=c-I,F=r-_;return y?wt(F,w-A):F}function $(c){var _=c-b,A=c-I;return b===void 0||_>=r||_<0||y&&A>=w}function R(){var c=ce();if($(c))return D(c);h=setTimeout(R,W(c))}function D(c){return h=void 0,m&&s?p(c):(s=f=void 0,l)}function Z(){h!==void 0&&clearTimeout(h),I=0,s=b=f=h=void 0}function X(){return h===void 0?l:D(ce())}function Y(){var c=ce(),_=$(c);if(s=arguments,f=this,b=c,_){if(h===void 0)return u(b);if(y)return clearTimeout(h),h=setTimeout(R,r),p(b)}return h===void 0&&(h=setTimeout(R,r)),l}return Y.cancel=Z,Y.flush=X,Y}var yt="Expected a function";function ue(e,r,o){var s=!0,f=!0;if(typeof e!="function")throw new TypeError(yt);return se(o)&&(s="leading"in o?!!o.leading:s,f="trailing"in o?!!o.trailing:f),ht(e,r,{leading:s,maxWait:r,trailing:f})}const _t=we({urlList:{type:de(Array),default:()=>he([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2}}),bt={close:()=>!0,switch:e=>oe(e),rotate:e=>oe(e)},kt=["src"],It=le({name:"ElImageViewer"}),xt=le({...It,props:_t,emits:bt,setup(e,{expose:r,emit:o}){const s=e,f={CONTAIN:{name:"contain",icon:me(Te)},ORIGINAL:{name:"original",icon:me(Se)}},{t:w}=ye(),l=_e("image-viewer"),{nextZIndex:h}=Ne(),b=S(),I=S([]),L=Oe(),y=S(!0),m=S(s.initialIndex),p=$e(f.CONTAIN),u=S({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),W=x(()=>{const{urlList:t}=s;return t.length<=1}),$=x(()=>m.value===0),R=x(()=>m.value===s.urlList.length-1),D=x(()=>s.urlList[m.value]),Z=x(()=>[l.e("btn"),l.e("prev"),l.is("disabled",!s.infinite&&$.value)]),X=x(()=>[l.e("btn"),l.e("next"),l.is("disabled",!s.infinite&&R.value)]),Y=x(()=>{const{scale:t,deg:i,offsetX:d,offsetY:C,enableTransition:B}=u.value;let T=d/t,V=C/t;switch(i%360){case 90:case-270:[T,V]=[V,-T];break;case 180:case-180:[T,V]=[-T,-V];break;case 270:case-90:[T,V]=[-V,T];break}const P={transform:`scale(${t}) rotate(${i}deg) translate(${T}px, ${V}px)`,transition:B?"transform .3s":""};return p.value.name===f.CONTAIN.name&&(P.maxWidth=P.maxHeight="100%"),P}),c=x(()=>oe(s.zIndex)?s.zIndex:h());function _(){F(),o("close")}function A(){const t=ue(d=>{switch(d.code){case H.esc:s.closeOnPressEscape&&_();break;case H.space:ee();break;case H.left:te();break;case H.up:a("zoomIn");break;case H.right:ne();break;case H.down:a("zoomOut");break}}),i=ue(d=>{const C=d.deltaY||d.deltaX;a(C<0?"zoomIn":"zoomOut",{zoomRate:s.zoomRate,enableTransition:!1})});L.run(()=>{K(document,"keydown",t),K(document,"wheel",i)})}function F(){L.stop()}function G(){y.value=!1}function J(t){y.value=!1,t.target.alt=w("el.image.error")}function Q(t){if(y.value||t.button!==0||!b.value)return;u.value.enableTransition=!1;const{offsetX:i,offsetY:d}=u.value,C=t.pageX,B=t.pageY,T=ue(P=>{u.value={...u.value,offsetX:i+P.pageX-C,offsetY:d+P.pageY-B}}),V=K(document,"mousemove",T);K(document,"mouseup",()=>{V()}),t.preventDefault()}function U(){u.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function ee(){if(y.value)return;const t=je(f),i=Object.values(f),d=p.value.name,B=(i.findIndex(T=>T.name===d)+1)%t.length;p.value=f[t[B]],U()}function q(t){const i=s.urlList.length;m.value=(t+i)%i}function te(){$.value&&!s.infinite||q(m.value-1)}function ne(){R.value&&!s.infinite||q(m.value+1)}function a(t,i={}){if(y.value)return;const{zoomRate:d,rotateDeg:C,enableTransition:B}={zoomRate:s.zoomRate,rotateDeg:90,enableTransition:!0,...i};switch(t){case"zoomOut":u.value.scale>.2&&(u.value.scale=Number.parseFloat((u.value.scale/d).toFixed(3)));break;case"zoomIn":u.value.scale<7&&(u.value.scale=Number.parseFloat((u.value.scale*d).toFixed(3)));break;case"clockwise":u.value.deg+=C,o("rotate",u.value.deg);break;case"anticlockwise":u.value.deg-=C,o("rotate",u.value.deg);break}u.value.enableTransition=B}return fe(D,()=>{be(()=>{const t=I.value[0];t!=null&&t.complete||(y.value=!0)})}),fe(m,t=>{U(),o("switch",t)}),ke(()=>{var t,i;A(),(i=(t=b.value)==null?void 0:t.focus)==null||i.call(t)}),r({setActiveItem:q}),(t,i)=>(E(),re(He,{to:"body",disabled:!t.teleported},[v(xe,{name:"viewer-fade",appear:""},{default:z(()=>[g("div",{ref_key:"wrapper",ref:b,tabindex:-1,class:k(n(l).e("wrapper")),style:ve({zIndex:n(c)})},[g("div",{class:k(n(l).e("mask")),onClick:i[0]||(i[0]=Re(d=>t.hideOnClickModal&&_(),["self"]))},null,2),O(" CLOSE "),g("span",{class:k([n(l).e("btn"),n(l).e("close")]),onClick:_},[v(n(M),null,{default:z(()=>[v(n(Ae))]),_:1})],2),O(" ARROW "),n(W)?O("v-if",!0):(E(),N(ie,{key:0},[g("span",{class:k(n(Z)),onClick:te},[v(n(M),null,{default:z(()=>[v(n(Be))]),_:1})],2),g("span",{class:k(n(X)),onClick:ne},[v(n(M),null,{default:z(()=>[v(n(Ve))]),_:1})],2)],64)),O(" ACTIONS "),g("div",{class:k([n(l).e("btn"),n(l).e("actions")])},[g("div",{class:k(n(l).e("actions__inner"))},[v(n(M),{onClick:i[1]||(i[1]=d=>a("zoomOut"))},{default:z(()=>[v(n(Me))]),_:1}),v(n(M),{onClick:i[2]||(i[2]=d=>a("zoomIn"))},{default:z(()=>[v(n(We))]),_:1}),g("i",{class:k(n(l).e("actions__divider"))},null,2),v(n(M),{onClick:ee},{default:z(()=>[(E(),re(Ie(n(p).icon)))]),_:1}),g("i",{class:k(n(l).e("actions__divider"))},null,2),v(n(M),{onClick:i[3]||(i[3]=d=>a("anticlockwise"))},{default:z(()=>[v(n(Xe))]),_:1}),v(n(M),{onClick:i[4]||(i[4]=d=>a("clockwise"))},{default:z(()=>[v(n(Ye))]),_:1})],2)],2),O(" CANVAS "),g("div",{class:k(n(l).e("canvas"))},[(E(!0),N(ie,null,De(t.urlList,(d,C)=>Fe((E(),N("img",{ref_for:!0,ref:B=>I.value[C]=B,key:d,src:d,style:ve(n(Y)),class:k(n(l).e("img")),onLoad:G,onError:J,onMousedown:Q},null,46,kt)),[[Pe,C===m.value]])),128))],2),ae(t.$slots,"default")],6)]),_:3})],8,["disabled"]))}});var Et=Ee(xt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image-viewer/src/image-viewer.vue"]]);const Lt=Le(Et),Ct=we({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:de([String,Object])},previewSrcList:{type:de(Array),default:()=>he([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2}}),zt={load:e=>e instanceof Event,error:e=>e instanceof Event,switch:e=>oe(e),close:()=>!0,show:()=>!0},Tt=["src","loading"],St={key:0},Nt=le({name:"ElImage",inheritAttrs:!1}),Ot=le({...Nt,props:Ct,emits:zt,setup(e,{emit:r}){const o=e;let s="";const{t:f}=ye(),w=_e("image"),l=Ke(),h=at(),b=S(),I=S(!1),L=S(!0),y=S(!1),m=S(),p=S(),u=j&&"loading"in HTMLImageElement.prototype;let W,$;const R=x(()=>[w.e("inner"),X.value&&w.e("preview"),L.value&&w.is("loading")]),D=x(()=>l.style),Z=x(()=>{const{fit:a}=o;return j&&a?{objectFit:a}:{}}),X=x(()=>{const{previewSrcList:a}=o;return Array.isArray(a)&&a.length>0}),Y=x(()=>{const{previewSrcList:a,initialIndex:t}=o;let i=t;return t>a.length-1&&(i=0),i}),c=x(()=>o.loading==="eager"?!1:!u&&o.loading==="lazy"||o.lazy),_=()=>{j&&(L.value=!0,I.value=!1,b.value=o.src)};function A(a){L.value=!1,I.value=!1,r("load",a)}function F(a){L.value=!1,I.value=!0,r("error",a)}function G(){ot(m.value,p.value)&&(_(),U())}const J=Je(G,200,!0);async function Q(){var a;if(!j)return;await be();const{scrollContainer:t}=o;Ue(t)?p.value=t:qe(t)&&t!==""?p.value=(a=document.querySelector(t))!=null?a:void 0:m.value&&(p.value=st(m.value)),p.value&&(W=K(p,"scroll",J),setTimeout(()=>G(),100))}function U(){!j||!p.value||!J||(W==null||W(),p.value=void 0)}function ee(a){if(a.ctrlKey){if(a.deltaY<0)return a.preventDefault(),!1;if(a.deltaY>0)return a.preventDefault(),!1}}function q(){X.value&&($=K("wheel",ee,{passive:!1}),s=document.body.style.overflow,document.body.style.overflow="hidden",y.value=!0,r("show"))}function te(){$==null||$(),document.body.style.overflow=s,y.value=!1,r("close")}function ne(a){r("switch",a)}return fe(()=>o.src,()=>{c.value?(L.value=!0,I.value=!1,U(),Q()):_()}),ke(()=>{c.value?Q():_()}),(a,t)=>(E(),N("div",{ref_key:"container",ref:m,class:k([n(w).b(),a.$attrs.class]),style:ve(n(D))},[I.value?ae(a.$slots,"error",{key:0},()=>[g("div",{class:k(n(w).e("error"))},Ge(n(f)("el.image.error")),3)]):(E(),N(ie,{key:1},[b.value!==void 0?(E(),N("img",Ze({key:0},n(h),{src:b.value,loading:a.loading,style:n(Z),class:n(R),onClick:q,onLoad:A,onError:F}),null,16,Tt)):O("v-if",!0),L.value?(E(),N("div",{key:1,class:k(n(w).e("wrapper"))},[ae(a.$slots,"placeholder",{},()=>[g("div",{class:k(n(w).e("placeholder"))},null,2)])],2)):O("v-if",!0)],64)),n(X)?(E(),N(ie,{key:2},[y.value?(E(),re(n(Lt),{key:0,"z-index":a.zIndex,"initial-index":n(Y),infinite:a.infinite,"zoom-rate":a.zoomRate,"url-list":a.previewSrcList,"hide-on-click-modal":a.hideOnClickModal,teleported:a.previewTeleported,"close-on-press-escape":a.closeOnPressEscape,onClose:te,onSwitch:ne},{default:z(()=>[a.$slots.viewer?(E(),N("div",St,[ae(a.$slots,"viewer")])):O("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","url-list","hide-on-click-modal","teleported","close-on-press-escape"])):O("v-if",!0)],64)):O("v-if",!0)],6))}});var $t=Ee(Ot,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image/src/image.vue"]]);const Rt=Le($t);const At="/assets/test-cb18c267.jpg";const Bt=e=>(tt("data-v-f04fda70"),e=e(),nt(),e),Vt={style:{whdth:"100vw",height:"100vh",overflow:"hidden",display:"flex"}},Mt={style:{flex:"1","background-color":"#6cf"}},Wt=Bt(()=>g("div",{class:"welcome-title"},[g("div",{style:{"font-size":"30px","font-weight":"bold"}},"欢迎来到围棋平台"),g("div",{style:{"margin-top":"20px"}})],-1)),Xt={style:{width:"400px","background-color":"white","z-index":"1"}},Yt={__name:"WelcomeView",setup(e){return(r,o)=>{const s=Rt,f=et("router-view");return E(),N("div",Vt,[g("div",Mt,[v(s,{style:{width:"100%",height:"100%"},fit:"cover",src:n(At)},null,8,["src"])]),Wt,g("div",Xt,[v(f,null,{default:z(({Component:w})=>[v(xe,{name:"el-fade-in-linear",mode:"out-in"},{default:z(()=>[(E(),re(Ie(w)))]),_:2},1024)]),_:1})])])}}},Ht=Qe(Yt,[["__scopeId","data-v-f04fda70"]]);export{Ht as default};
