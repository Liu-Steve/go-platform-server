import{aG as a,aD as n}from"./index-d1e73e24.js";const o=localStorage.getItem("Authorization");o!==null&&o!==""&&(a.defaults.headers.common.Authorization=`Bearer ${o}`);const i=()=>n.error("发生了一些错误，请联系管理员"),c=e=>n.warning(e);function p(e,r,l,s=c,u=i){a.post(e,r,{headers:{"Content-Type":"application/json"}}).then(t=>{t.data.resultCode!=0?s(`${t.data.resultMessage} 错误代码: ${t.data.resultCode}`):l(t.data,t.status)}).catch(t=>{if(t.response){if(t.response.status===401){router.push("/");return}if(t.response.status===403){s("对不起，您没有权限访问");return}s(`请求错误 HTTP 代码: ${t.response.status}`),console.error(t.response)}else t.request?(s("请求超时"),console.error(t.request)):(u(),console.error(t.message));console.log(t.config)})}export{p};
