import{a6 as ee,G as O,h as k,z as pe,L as he,B as ye,v as K,U as E,N as Ue,ac as ae,g as L,ad as we,o as S,d as ke,w as xe,a as ne,n as x,u as b,I as _,c as C,a0 as $,aa as N,ae as R,i as Y,K as Me,t as Se,Y as Ce,j as V,e as Le,k as ze,F as Ke,$ as Ve,q as He}from"./index-8f4ee042.js";import{h as Te,U,l as qe,m as Q,n as Ee,g as le,o as Ae,j as We}from"./index-ff51c493.js";import{a8 as te,a9 as D,o as F,aa as Je,f as Ye,g as se,ab as Oe,t as Qe,c as Xe,n as Ze,ac as je,B as re,x as H,U as q,u as X,_ as Z,b as ea,d as aa,w as na,V as Pe}from"./base-0a4413d9.js";import{c as Ie,d as la,U as ie,g as oe,e as ue,a as de,S as M,b as ta,f as sa}from"./el-input-db63d4d6.js";import{E as ra}from"./index-f3287924.js";function ia(e){return e}function oa(e,a,l){switch(l.length){case 0:return e.call(a);case 1:return e.call(a,l[0]);case 2:return e.call(a,l[0],l[1]);case 3:return e.call(a,l[0],l[1],l[2])}return e.apply(a,l)}var ua=800,da=16,fa=Date.now;function ca(e){var a=0,l=0;return function(){var n=fa(),r=da-(n-l);if(l=n,r>0){if(++a>=ua)return arguments[0]}else a=0;return e.apply(void 0,arguments)}}function ba(e){return function(){return e}}var ma=te?function(e,a){return te(e,"toString",{configurable:!0,enumerable:!1,value:ba(a),writable:!0})}:ia;const va=ma;var ga=ca(va);const pa=ga;var fe=Math.max;function ha(e,a,l){return a=fe(a===void 0?e.length-1:a,0),function(){for(var n=arguments,r=-1,s=fe(n.length-a,0),o=Array(s);++r<s;)o[r]=n[a+r];r=-1;for(var i=Array(a+1);++r<a;)i[r]=n[r];return i[a]=l(o),oa(e,this,i)}}var ce=D?D.isConcatSpreadable:void 0;function ya(e){return F(e)||Ie(e)||!!(ce&&e&&e[ce])}function Be(e,a,l,n,r){var s=-1,o=e.length;for(l||(l=ya),r||(r=[]);++s<o;){var i=e[s];a>0&&l(i)?a>1?Be(i,a-1,l,n,r):la(r,i):n||(r[r.length]=i)}return r}function wa(e){var a=e==null?0:e.length;return a?Be(e,1):[]}function ka(e){return pa(ha(e,void 0,wa),e+"")}var xa="__lodash_hash_undefined__";function Sa(e){return this.__data__.set(e,xa),this}function Ca(e){return this.__data__.has(e)}function G(e){var a=-1,l=e==null?0:e.length;for(this.__data__=new Je;++a<l;)this.add(e[a])}G.prototype.add=G.prototype.push=Sa;G.prototype.has=Ca;function La(e,a){for(var l=-1,n=e==null?0:e.length;++l<n;)if(a(e[l],l,e))return!0;return!1}function Ta(e,a){return e.has(a)}var Ea=1,Aa=2;function _e(e,a,l,n,r,s){var o=l&Ea,i=e.length,c=a.length;if(i!=c&&!(o&&c>i))return!1;var u=s.get(e),v=s.get(a);if(u&&v)return u==a&&v==e;var h=-1,y=!0,f=l&Aa?new G:void 0;for(s.set(e,a),s.set(a,e);++h<i;){var d=e[h],m=a[h];if(n)var g=o?n(m,d,h,a,e,s):n(d,m,h,e,a,s);if(g!==void 0){if(g)continue;y=!1;break}if(f){if(!La(a,function(p,w){if(!Ta(f,w)&&(d===p||r(d,p,l,n,s)))return f.push(w)})){y=!1;break}}else if(!(d===m||r(d,m,l,n,s))){y=!1;break}}return s.delete(e),s.delete(a),y}function Oa(e){var a=-1,l=Array(e.size);return e.forEach(function(n,r){l[++a]=[r,n]}),l}function Pa(e){var a=-1,l=Array(e.size);return e.forEach(function(n){l[++a]=n}),l}var Ia=1,Ba=2,_a="[object Boolean]",$a="[object Date]",Na="[object Error]",Ra="[object Map]",Da="[object Number]",Fa="[object RegExp]",Ga="[object Set]",Ua="[object String]",Ma="[object Symbol]",za="[object ArrayBuffer]",Ka="[object DataView]",be=D?D.prototype:void 0,z=be?be.valueOf:void 0;function Va(e,a,l,n,r,s,o){switch(l){case Ka:if(e.byteLength!=a.byteLength||e.byteOffset!=a.byteOffset)return!1;e=e.buffer,a=a.buffer;case za:return!(e.byteLength!=a.byteLength||!s(new ie(e),new ie(a)));case _a:case $a:case Da:return Ye(+e,+a);case Na:return e.name==a.name&&e.message==a.message;case Fa:case Ua:return e==a+"";case Ra:var i=Oa;case Ga:var c=n&Ia;if(i||(i=Pa),e.size!=a.size&&!c)return!1;var u=o.get(e);if(u)return u==a;n|=Ba,o.set(e,a);var v=_e(i(e),i(a),n,r,s,o);return o.delete(e),v;case Ma:if(z)return z.call(e)==z.call(a)}return!1}var Ha=1,qa=Object.prototype,Wa=qa.hasOwnProperty;function Ja(e,a,l,n,r,s){var o=l&Ha,i=oe(e),c=i.length,u=oe(a),v=u.length;if(c!=v&&!o)return!1;for(var h=c;h--;){var y=i[h];if(!(o?y in a:Wa.call(a,y)))return!1}var f=s.get(e),d=s.get(a);if(f&&d)return f==a&&d==e;var m=!0;s.set(e,a),s.set(a,e);for(var g=o;++h<c;){y=i[h];var p=e[y],w=a[y];if(n)var j=o?n(w,p,y,a,e,s):n(p,w,y,e,a,s);if(!(j===void 0?p===w||r(p,w,l,n,s):j)){m=!1;break}g||(g=y=="constructor")}if(m&&!g){var P=e.constructor,I=a.constructor;P!=I&&"constructor"in e&&"constructor"in a&&!(typeof P=="function"&&P instanceof P&&typeof I=="function"&&I instanceof I)&&(m=!1)}return s.delete(e),s.delete(a),m}var Ya=1,me="[object Arguments]",ve="[object Array]",B="[object Object]",Qa=Object.prototype,ge=Qa.hasOwnProperty;function Xa(e,a,l,n,r,s){var o=F(e),i=F(a),c=o?ve:ue(e),u=i?ve:ue(a);c=c==me?B:c,u=u==me?B:u;var v=c==B,h=u==B,y=c==u;if(y&&de(e)){if(!de(a))return!1;o=!0,v=!1}if(y&&!v)return s||(s=new M),o||ta(e)?_e(e,a,l,n,r,s):Va(e,a,c,l,n,r,s);if(!(l&Ya)){var f=v&&ge.call(e,"__wrapped__"),d=h&&ge.call(a,"__wrapped__");if(f||d){var m=f?e.value():e,g=d?a.value():a;return s||(s=new M),r(m,g,l,n,s)}}return y?(s||(s=new M),Ja(e,a,l,n,r,s)):!1}function $e(e,a,l,n,r){return e===a?!0:e==null||a==null||!se(e)&&!se(a)?e!==e&&a!==a:Xa(e,a,l,n,$e,r)}function Za(e,a){return e!=null&&a in Object(e)}function ja(e,a,l){a=Oe(a,e);for(var n=-1,r=a.length,s=!1;++n<r;){var o=Qe(a[n]);if(!(s=e!=null&&l(e,o)))break;e=e[o]}return s||++n!=r?s:(r=e==null?0:e.length,!!r&&sa(r)&&Xe(o,r)&&(F(e)||Ie(e)))}function en(e,a){return e!=null&&ja(e,a,Za)}function an(e,a){return $e(e,a)}function nn(e,a,l){for(var n=-1,r=a.length,s={};++n<r;){var o=a[n],i=Ze(e,o);l(i,o)&&je(s,Oe(o,e),i)}return s}function ln(e,a){return nn(e,a,function(l,n){return en(e,n)})}var tn=ka(function(e,a){return e==null?{}:ln(e,a)});const sn=tn,Ne={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object]},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:Te,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0}},Re={[U]:e=>ee(e)||re(e)||H(e),change:e=>ee(e)||re(e)||H(e)},T=Symbol("checkboxGroupContextKey"),rn=({model:e,isChecked:a})=>{const l=O(T,void 0),n=k(()=>{var s,o;const i=(s=l==null?void 0:l.max)==null?void 0:s.value,c=(o=l==null?void 0:l.min)==null?void 0:o.value;return!q(i)&&e.value.length>=i&&!a.value||!q(c)&&e.value.length<=c&&a.value});return{isDisabled:qe(k(()=>(l==null?void 0:l.disabled.value)||n.value)),isLimitDisabled:n}},on=(e,{model:a,isLimitExceeded:l,hasOwnLabel:n,isDisabled:r,isLabeledByFormItem:s})=>{const o=O(T,void 0),{formItem:i}=Q(),{emit:c}=ye();function u(d){var m,g;return d===e.trueLabel||d===!0?(m=e.trueLabel)!=null?m:!0:(g=e.falseLabel)!=null?g:!1}function v(d,m){c("change",u(d),m)}function h(d){if(l.value)return;const m=d.target;c("change",u(m.checked),d)}async function y(d){l.value||!n.value&&!r.value&&s.value&&(d.composedPath().some(p=>p.tagName==="LABEL")||(a.value=u([!1,e.falseLabel].includes(a.value)),await he(),v(a.value,d)))}const f=k(()=>(o==null?void 0:o.validateEvent)||e.validateEvent);return pe(()=>e.modelValue,()=>{f.value&&(i==null||i.validate("change").catch(d=>Ee()))}),{handleChange:h,onClickRoot:y}},un=e=>{const a=K(!1),{emit:l}=ye(),n=O(T,void 0),r=k(()=>q(n)===!1),s=K(!1);return{model:k({get(){var i,c;return r.value?(i=n==null?void 0:n.modelValue)==null?void 0:i.value:(c=e.modelValue)!=null?c:a.value},set(i){var c,u;r.value&&E(i)?(s.value=((c=n==null?void 0:n.max)==null?void 0:c.value)!==void 0&&i.length>(n==null?void 0:n.max.value),s.value===!1&&((u=n==null?void 0:n.changeEvent)==null||u.call(n,i))):(l(U,i),a.value=i)}}),isGroup:r,isLimitExceeded:s}},dn=(e,a,{model:l})=>{const n=O(T,void 0),r=K(!1),s=k(()=>{const u=l.value;return H(u)?u:E(u)?Ue(e.label)?u.map(ae).some(v=>an(v,e.label)):u.map(ae).includes(e.label):u!=null?u===e.trueLabel:!!u}),o=le(k(()=>{var u;return(u=n==null?void 0:n.size)==null?void 0:u.value}),{prop:!0}),i=le(k(()=>{var u;return(u=n==null?void 0:n.size)==null?void 0:u.value})),c=k(()=>!!(a.default||e.label));return{checkboxButtonSize:o,isChecked:s,isFocused:r,checkboxSize:i,hasOwnLabel:c}},fn=(e,{model:a})=>{function l(){E(a.value)&&!a.value.includes(e.label)?a.value.push(e.label):a.value=e.trueLabel||!0}e.checked&&l()},De=(e,a)=>{const{formItem:l}=Q(),{model:n,isGroup:r,isLimitExceeded:s}=un(e),{isFocused:o,isChecked:i,checkboxButtonSize:c,checkboxSize:u,hasOwnLabel:v}=dn(e,a,{model:n}),{isDisabled:h}=rn({model:n,isChecked:i}),{inputId:y,isLabeledByFormItem:f}=Ae(e,{formItemContext:l,disableIdGeneration:v,disableIdManagement:r}),{handleChange:d,onClickRoot:m}=on(e,{model:n,isLimitExceeded:s,hasOwnLabel:v,isDisabled:h,isLabeledByFormItem:f});return fn(e,{model:n}),{inputId:y,isLabeledByFormItem:f,isChecked:i,isDisabled:h,isFocused:o,checkboxButtonSize:c,checkboxSize:u,hasOwnLabel:v,model:n,handleChange:d,onClickRoot:m}},cn=["tabindex","role","aria-checked"],bn=["id","aria-hidden","name","tabindex","disabled","true-value","false-value"],mn=["id","aria-hidden","disabled","value","name","tabindex"],vn=L({name:"ElCheckbox"}),gn=L({...vn,props:Ne,emits:Re,setup(e){const a=e,l=we(),{inputId:n,isLabeledByFormItem:r,isChecked:s,isDisabled:o,isFocused:i,checkboxSize:c,hasOwnLabel:u,model:v,handleChange:h,onClickRoot:y}=De(a,l),f=X("checkbox"),d=k(()=>[f.b(),f.m(c.value),f.is("disabled",o.value),f.is("bordered",a.border),f.is("checked",s.value)]),m=k(()=>[f.e("input"),f.is("disabled",o.value),f.is("checked",s.value),f.is("indeterminate",a.indeterminate),f.is("focus",i.value)]);return(g,p)=>(S(),ke(Le(!b(u)&&b(r)?"span":"label"),{class:x(b(d)),"aria-controls":g.indeterminate?g.controls:null,onClick:b(y)},{default:xe(()=>[ne("span",{class:x(b(m)),tabindex:g.indeterminate?0:void 0,role:g.indeterminate?"checkbox":void 0,"aria-checked":g.indeterminate?"mixed":void 0},[g.trueLabel||g.falseLabel?_((S(),C("input",{key:0,id:b(n),"onUpdate:modelValue":p[0]||(p[0]=w=>$(v)?v.value=w:null),class:x(b(f).e("original")),type:"checkbox","aria-hidden":g.indeterminate?"true":"false",name:g.name,tabindex:g.tabindex,disabled:b(o),"true-value":g.trueLabel,"false-value":g.falseLabel,onChange:p[1]||(p[1]=(...w)=>b(h)&&b(h)(...w)),onFocus:p[2]||(p[2]=w=>i.value=!0),onBlur:p[3]||(p[3]=w=>i.value=!1),onClick:p[4]||(p[4]=N(()=>{},["stop"]))},null,42,bn)),[[R,b(v)]]):_((S(),C("input",{key:1,id:b(n),"onUpdate:modelValue":p[5]||(p[5]=w=>$(v)?v.value=w:null),class:x(b(f).e("original")),type:"checkbox","aria-hidden":g.indeterminate?"true":"false",disabled:b(o),value:g.label,name:g.name,tabindex:g.tabindex,onChange:p[6]||(p[6]=(...w)=>b(h)&&b(h)(...w)),onFocus:p[7]||(p[7]=w=>i.value=!0),onBlur:p[8]||(p[8]=w=>i.value=!1),onClick:p[9]||(p[9]=N(()=>{},["stop"]))},null,42,mn)),[[R,b(v)]]),ne("span",{class:x(b(f).e("inner"))},null,2)],10,cn),b(u)?(S(),C("span",{key:0,class:x(b(f).e("label"))},[Y(g.$slots,"default"),g.$slots.default?V("v-if",!0):(S(),C(Me,{key:0},[Se(Ce(g.label),1)],64))],2)):V("v-if",!0)]),_:3},8,["class","aria-controls","onClick"]))}});var pn=Z(gn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox.vue"]]);const hn=["name","tabindex","disabled","true-value","false-value"],yn=["name","tabindex","disabled","value"],wn=L({name:"ElCheckboxButton"}),kn=L({...wn,props:Ne,emits:Re,setup(e){const a=e,l=we(),{isFocused:n,isChecked:r,isDisabled:s,checkboxButtonSize:o,model:i,handleChange:c}=De(a,l),u=O(T,void 0),v=X("checkbox"),h=k(()=>{var f,d,m,g;const p=(d=(f=u==null?void 0:u.fill)==null?void 0:f.value)!=null?d:"";return{backgroundColor:p,borderColor:p,color:(g=(m=u==null?void 0:u.textColor)==null?void 0:m.value)!=null?g:"",boxShadow:p?`-1px 0 0 0 ${p}`:void 0}}),y=k(()=>[v.b("button"),v.bm("button",o.value),v.is("disabled",s.value),v.is("checked",r.value),v.is("focus",n.value)]);return(f,d)=>(S(),C("label",{class:x(b(y))},[f.trueLabel||f.falseLabel?_((S(),C("input",{key:0,"onUpdate:modelValue":d[0]||(d[0]=m=>$(i)?i.value=m:null),class:x(b(v).be("button","original")),type:"checkbox",name:f.name,tabindex:f.tabindex,disabled:b(s),"true-value":f.trueLabel,"false-value":f.falseLabel,onChange:d[1]||(d[1]=(...m)=>b(c)&&b(c)(...m)),onFocus:d[2]||(d[2]=m=>n.value=!0),onBlur:d[3]||(d[3]=m=>n.value=!1),onClick:d[4]||(d[4]=N(()=>{},["stop"]))},null,42,hn)),[[R,b(i)]]):_((S(),C("input",{key:1,"onUpdate:modelValue":d[5]||(d[5]=m=>$(i)?i.value=m:null),class:x(b(v).be("button","original")),type:"checkbox",name:f.name,tabindex:f.tabindex,disabled:b(s),value:f.label,onChange:d[6]||(d[6]=(...m)=>b(c)&&b(c)(...m)),onFocus:d[7]||(d[7]=m=>n.value=!0),onBlur:d[8]||(d[8]=m=>n.value=!1),onClick:d[9]||(d[9]=N(()=>{},["stop"]))},null,42,yn)),[[R,b(i)]]),f.$slots.default||f.label?(S(),C("span",{key:2,class:x(b(v).be("button","inner")),style:ze(b(r)?b(h):void 0)},[Y(f.$slots,"default",{},()=>[Se(Ce(f.label),1)])],6)):V("v-if",!0)],2))}});var Fe=Z(kn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-button.vue"]]);const xn=ea({modelValue:{type:aa(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:Te,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0}}),Sn={[U]:e=>E(e),change:e=>E(e)},Cn=L({name:"ElCheckboxGroup"}),Ln=L({...Cn,props:xn,emits:Sn,setup(e,{emit:a}){const l=e,n=X("checkbox"),{formItem:r}=Q(),{inputId:s,isLabeledByFormItem:o}=Ae(l,{formItemContext:r}),i=async u=>{a(U,u),await he(),a("change",u)},c=k({get(){return l.modelValue},set(u){i(u)}});return Ke(T,{...sn(Ve(l),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:c,changeEvent:i}),pe(()=>l.modelValue,()=>{l.validateEvent&&(r==null||r.validate("change").catch(u=>Ee()))}),(u,v)=>{var h;return S(),ke(Le(u.tag),{id:b(s),class:x(b(n).b("group")),role:"group","aria-label":b(o)?void 0:u.label||"checkbox-group","aria-labelledby":b(o)?(h=b(r))==null?void 0:h.labelId:void 0},{default:xe(()=>[Y(u.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var Ge=Z(Ln,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-group.vue"]]);const $n=na(pn,{CheckboxButton:Fe,CheckboxGroup:Ge});Pe(Fe);Pe(Ge);const t=He();var A=null;function Tn(e){try{"WebSocket"in window&&(A=new WebSocket(e),An(A,e))}catch(a){W(e),console.log(a)}}function En(){A.close(),t.ws_state=!1,J.reset()}function An(e,a){e.onopen=function(l){J.reset().start(),console.log("WebSocket已连接")},e.onclose=function(l){W(a),console.log("WebSocket连接已关闭")},e.onerror=function(l){W(a),console.log("WebSocket错误：",l)},e.onmessage=function(l){if(J.reset().start(),l.data!="Echo message: check"){let n=JSON.parse(l.data),r=Array(19*19).fill(0);if(n.mode===0||n.mode===1||n.mode===2||n.mode===3||n.mode===4){let s=n.message.board;for(let o=0;o<19;o++)for(let i=0;i<19;i++)s[o][i]===-1?r[o*19+i]=0:s[o][i]===0?r[o*19+i]=-1:s[o][i]===1&&(r[o*19+i]=1);t.jsonchessboard=JSON.parse(JSON.stringify(r))}switch(n.mode){case 0:if(t.chessboard=r,t.playerisblack=!t.playerisblack,t.gamestart&&(t.selectedmap=Array(19*19).fill(!1),t.selectedmap[n.message.lastPos[0]*19+n.message.lastPos[1]]=!0),!t.gamestart&&(t.gamestart=!0,t.showdialog=!1,t.playerisblack=!0,t.isnotsurrender=!0,t.showdialogend=!1,t.blackplayer.id===t.userid)){let s=t.whiteplayer;t.whiteplayer=t.blackplayer,t.blackplayer=s}break;case 1:if(t.chessboard=r,t.playerisblack=!t.playerisblack,t.isdrop=!0,t.gamestart&&(t.selectedmap=Array(19*19).fill(!1),t.selectedmap[n.message.lastPos[0]*19+n.message.lastPos[1]]=!0),!t.gamestart&&(t.gamestart=!0,t.showdialog=!1,t.playerisblack=!0,t.isnotsurrender=!0,t.showdialogend=!1,t.selectedmap=Array(19*19).fill(!1),t.whiteplayer.id===t.userid)){let s=t.blackplayer;t.blackplayer=t.whiteplayer,t.whiteplayer=s}break;case 2:t.chessboard=r;break;case 3:t.chessboard=r,t.playerisblack=!t.playerisblack,t.isdrop=!0,ra({title:"对方选择停一手"});break;case 4:t.chessboard=r;break;case 5:t.showdialogend=!0,t.gamestart=!1,t.isnotsurrender=!1,t.selectedmap=Array(19*19).fill(!1),n.message.mode===0?(n.message.winner==="black"?t.winner="获胜方： "+t.blackplayer.name:n.message.winner==="white"?t.winner="获胜方： "+t.whiteplayer.name:n.message.winner==="equal"&&(t.winner="双方平局"),t.whitecount=n.message.white,t.blackcount=n.message.black,t.isnotsurrender=!0):n.message.mode===1&&(t.winner="对方投降，你赢了！"),t.waitforresult=!1;break;case 6:t.showdialogend=!0,t.waitforresult=!0;break;case 10:t.roomowner.id=n.message.createUserId,t.roomowner.name=n.message.createUserName,t.roomplayer.id=n.message.secondUserId,t.disablestartgame=!1,t.gamestart=!1,We("/api/user/"+t.roomplayer.id,s=>{t.roomplayer.name=s.result.username});break;case 11:t.roomplayer.id="",t.roomplayer.name="",t.roomowner.id=t.userid,t.roomowner.name=t.username,t.isowner=!0,t.showdialog=!0,t.disablestartgame=!0,t.gamestart=!1;break}}}}function W(e){t.ws_state&&setTimeout(function(){Tn(e)},2e3)}window.onbeforeunload=function(){En()};var J={timeout:5e3,timeoutObj:null,serverTimeoutObj:null,reset:function(){return clearTimeout(this.timeoutObj),clearTimeout(this.serverTimeoutObj),this},start:function(){var e=this;this.timeoutObj=setTimeout(function(){A.send("check"),e.serverTimeoutObj=setTimeout(function(){A.close()},e.timeout)},this.timeout)}};export{$n as E,Be as a,$e as b,En as c,en as h,ia as i,ha as o,pa as s,Tn as w};
