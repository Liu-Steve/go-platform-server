import{y as Je,a2 as oe,B as O,a3 as wt,a as we,a4 as re,a5 as xt,i as et,b as St,a6 as xe,a7 as ae,M as Tt,a8 as V,Q as Ct,j as Me,o as It,h as ce,p as pe,C as jt,u as Be,Z as At,E as R,a9 as Et,aa as $t,_ as _t,n as Fe,ab as Pt,ac as kt,w as zt}from"./base-2d98388c.js";import{k as z,P as ee,h as te,j as Ot,l as tt,V as Vt,m as Mt,g as m,Q as Bt,n as P,$ as Ft,s as Nt,S as Rt,o as g,c as T,C as b,F as de,q as x,u as o,z as X,a as k,d as I,w as D,e as Z,W as fe,b as Dt,x as Lt,B as J,D as Ht}from"./index-87a0bc49.js";import{U as ye,u as Ut,i as Ne,b as Kt,e as Wt,c as Gt,a as qt,d as Re,V as Yt,q as Qt}from"./index-c7515fd8.js";import{u as Xt}from"./index-0743fc75.js";const Zt=()=>Je&&/firefox/i.test(window.navigator.userAgent);var Jt=oe(O,"WeakMap");const ge=Jt;var ea=9007199254740991;function at(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ea}function ta(e){return e!=null&&at(e.length)&&!wt(e)}var aa=Object.prototype;function oa(e){var n=e&&e.constructor,r=typeof n=="function"&&n.prototype||aa;return e===r}function ra(e,n){for(var r=-1,a=Array(e);++r<e;)a[r]=n(r);return a}var na="[object Arguments]";function De(e){return we(e)&&re(e)==na}var ot=Object.prototype,sa=ot.hasOwnProperty,ia=ot.propertyIsEnumerable,la=De(function(){return arguments}())?De:function(e){return we(e)&&sa.call(e,"callee")&&!ia.call(e,"callee")};const ua=la;function ca(){return!1}var rt=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Le=rt&&typeof module=="object"&&module&&!module.nodeType&&module,pa=Le&&Le.exports===rt,He=pa?O.Buffer:void 0,da=He?He.isBuffer:void 0,fa=da||ca;const va=fa;var ya="[object Arguments]",ga="[object Array]",ma="[object Boolean]",ba="[object Date]",ha="[object Error]",wa="[object Function]",xa="[object Map]",Sa="[object Number]",Ta="[object Object]",Ca="[object RegExp]",Ia="[object Set]",ja="[object String]",Aa="[object WeakMap]",Ea="[object ArrayBuffer]",$a="[object DataView]",_a="[object Float32Array]",Pa="[object Float64Array]",ka="[object Int8Array]",za="[object Int16Array]",Oa="[object Int32Array]",Va="[object Uint8Array]",Ma="[object Uint8ClampedArray]",Ba="[object Uint16Array]",Fa="[object Uint32Array]",p={};p[_a]=p[Pa]=p[ka]=p[za]=p[Oa]=p[Va]=p[Ma]=p[Ba]=p[Fa]=!0;p[ya]=p[ga]=p[Ea]=p[ma]=p[$a]=p[ba]=p[ha]=p[wa]=p[xa]=p[Sa]=p[Ta]=p[Ca]=p[Ia]=p[ja]=p[Aa]=!1;function Na(e){return we(e)&&at(e.length)&&!!p[re(e)]}function Ra(e){return function(n){return e(n)}}var nt=typeof exports=="object"&&exports&&!exports.nodeType&&exports,L=nt&&typeof module=="object"&&module&&!module.nodeType&&module,Da=L&&L.exports===nt,ve=Da&&xt.process,La=function(){try{var e=L&&L.require&&L.require("util").types;return e||ve&&ve.binding&&ve.binding("util")}catch{}}();const Ue=La;var Ke=Ue&&Ue.isTypedArray,Ha=Ke?Ra(Ke):Na;const Ua=Ha;var Ka=Object.prototype,Wa=Ka.hasOwnProperty;function Ga(e,n){var r=et(e),a=!r&&ua(e),i=!r&&!a&&va(e),l=!r&&!a&&!i&&Ua(e),c=r||a||i||l,w=c?ra(e.length,String):[],f=w.length;for(var d in e)(n||Wa.call(e,d))&&!(c&&(d=="length"||i&&(d=="offset"||d=="parent")||l&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||St(d,f)))&&w.push(d);return w}function qa(e,n){return function(r){return e(n(r))}}var Ya=qa(Object.keys,Object);const Qa=Ya;var Xa=Object.prototype,Za=Xa.hasOwnProperty;function Ja(e){if(!oa(e))return Qa(e);var n=[];for(var r in Object(e))Za.call(e,r)&&r!="constructor"&&n.push(r);return n}function eo(e){return ta(e)?Ga(e):Ja(e)}function to(e,n){for(var r=-1,a=n.length,i=e.length;++r<a;)e[i+r]=n[r];return e}function ao(){this.__data__=new xe,this.size=0}function oo(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}function ro(e){return this.__data__.get(e)}function no(e){return this.__data__.has(e)}var so=200;function io(e,n){var r=this.__data__;if(r instanceof xe){var a=r.__data__;if(!ae||a.length<so-1)return a.push([e,n]),this.size=++r.size,this;r=this.__data__=new Tt(a)}return r.set(e,n),this.size=r.size,this}function H(e){var n=this.__data__=new xe(e);this.size=n.size}H.prototype.clear=ao;H.prototype.delete=oo;H.prototype.get=ro;H.prototype.has=no;H.prototype.set=io;function lo(e,n){for(var r=-1,a=e==null?0:e.length,i=0,l=[];++r<a;){var c=e[r];n(c,r,e)&&(l[i++]=c)}return l}function uo(){return[]}var co=Object.prototype,po=co.propertyIsEnumerable,We=Object.getOwnPropertySymbols,fo=We?function(e){return e==null?[]:(e=Object(e),lo(We(e),function(n){return po.call(e,n)}))}:uo;const vo=fo;function yo(e,n,r){var a=n(e);return et(e)?a:to(a,r(e))}function Ko(e){return yo(e,eo,vo)}var go=oe(O,"DataView");const me=go;var mo=oe(O,"Promise");const be=mo;var bo=oe(O,"Set");const he=bo;var Ge="[object Map]",ho="[object Object]",qe="[object Promise]",Ye="[object Set]",Qe="[object WeakMap]",Xe="[object DataView]",wo=V(me),xo=V(ae),So=V(be),To=V(he),Co=V(ge),A=re;(me&&A(new me(new ArrayBuffer(1)))!=Xe||ae&&A(new ae)!=Ge||be&&A(be.resolve())!=qe||he&&A(new he)!=Ye||ge&&A(new ge)!=Qe)&&(A=function(e){var n=re(e),r=n==ho?e.constructor:void 0,a=r?V(r):"";if(a)switch(a){case wo:return Xe;case xo:return Ge;case So:return qe;case To:return Ye;case Co:return Qe}return n});const Wo=A;var Io=O.Uint8Array;const Go=Io,jo=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e);function Ao(e){const n=z();function r(){if(e.value==null)return;const{selectionStart:i,selectionEnd:l,value:c}=e.value;if(i==null||l==null)return;const w=c.slice(0,Math.max(0,i)),f=c.slice(Math.max(0,l));n.value={selectionStart:i,selectionEnd:l,value:c,beforeTxt:w,afterTxt:f}}function a(){if(e.value==null||n.value==null)return;const{value:i}=e.value,{beforeTxt:l,afterTxt:c,selectionStart:w}=n.value;if(l==null||c==null||w==null)return;let f=i.length;if(i.endsWith(c))f=i.length-c.length;else if(i.startsWith(l))f=l.length;else{const d=l[w-1],y=i.indexOf(d,w-1);y!==-1&&(f=y+1)}e.value.setSelectionRange(f,f)}return[r,a]}function Eo(e,{afterFocus:n,afterBlur:r}={}){const a=Ot(),{emit:i}=a,l=ee(),c=z(!1),w=y=>{c.value||(c.value=!0,i("focus",y),n==null||n())},f=y=>{var v;y.relatedTarget&&((v=l.value)!=null&&v.contains(y.relatedTarget))||(c.value=!1,i("blur",y),r==null||r())},d=()=>{var y;(y=e.value)==null||y.focus()};return te(l,y=>{y&&y.setAttribute("tabindex","-1")}),Ct(l,"click",d),{wrapperRef:l,isFocused:c,handleFocus:w,handleBlur:f}}let S;const $o=`
  height:0 !important;
  visibility:hidden !important;
  ${Zt()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,_o=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Po(e){const n=window.getComputedStyle(e),r=n.getPropertyValue("box-sizing"),a=Number.parseFloat(n.getPropertyValue("padding-bottom"))+Number.parseFloat(n.getPropertyValue("padding-top")),i=Number.parseFloat(n.getPropertyValue("border-bottom-width"))+Number.parseFloat(n.getPropertyValue("border-top-width"));return{contextStyle:_o.map(c=>`${c}:${n.getPropertyValue(c)}`).join(";"),paddingSize:a,borderSize:i,boxSizing:r}}function Ze(e,n=1,r){var a;S||(S=document.createElement("textarea"),document.body.appendChild(S));const{paddingSize:i,borderSize:l,boxSizing:c,contextStyle:w}=Po(e);S.setAttribute("style",`${w};${$o}`),S.value=e.value||e.placeholder||"";let f=S.scrollHeight;const d={};c==="border-box"?f=f+l:c==="content-box"&&(f=f-i),S.value="";const y=S.scrollHeight-i;if(Me(n)){let v=y*n;c==="border-box"&&(v=v+i+l),f=Math.max(v,f),d.minHeight=`${v}px`}if(Me(r)){let v=y*r;c==="border-box"&&(v=v+i+l),f=Math.min(v,f)}return d.height=`${f}px`,(a=S.parentNode)==null||a.removeChild(S),S=void 0,d}const ko=It({id:{type:String,default:void 0},size:Ut,disabled:Boolean,modelValue:{type:pe([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:pe([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:Ne},prefixIcon:{type:Ne},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:pe([Object,Array,String]),default:()=>jt({})},autofocus:{type:Boolean,default:!1}}),zo={[ye]:e=>ce(e),input:e=>ce(e),change:e=>ce(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},Oo=["role"],Vo=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus"],Mo=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus"],Bo=tt({name:"ElInput",inheritAttrs:!1}),Fo=tt({...Bo,props:ko,emits:zo,setup(e,{expose:n,emit:r}){const a=e,i=Vt(),l=Mt(),c=m(()=>{const t={};return a.containerRole==="combobox"&&(t["aria-haspopup"]=i["aria-haspopup"],t["aria-owns"]=i["aria-owns"],t["aria-expanded"]=i["aria-expanded"]),t}),w=m(()=>[a.type==="textarea"?Te.b():u.b(),u.m(st.value),u.is("disabled",E.value),u.is("exceed",ct.value),{[u.b("group")]:l.prepend||l.append,[u.bm("group","append")]:l.append,[u.bm("group","prepend")]:l.prepend,[u.m("prefix")]:l.prefix||a.prefixIcon,[u.m("suffix")]:l.suffix||a.suffixIcon||a.clearable||a.showPassword,[u.bm("suffix","password-clear")]:Y.value&&ie.value},i.class]),f=m(()=>[u.e("wrapper"),u.is("focus",se.value)]),d=Xt({excludeKeys:m(()=>Object.keys(c.value))}),{form:y,formItem:v}=Kt(),{inputId:Se}=Wt(a,{formItemContext:v}),st=Gt(),E=qt(),u=Be("input"),Te=Be("textarea"),U=ee(),C=ee(),ne=z(!1),M=z(!1),K=z(!1),Ce=z(),W=ee(a.inputStyle),$=m(()=>U.value||C.value),{wrapperRef:it,isFocused:se,handleFocus:G,handleBlur:q}=Eo($,{afterBlur(){var t;a.validateEvent&&((t=v==null?void 0:v.validate)==null||t.call(v,"blur").catch(s=>Re()))}}),Ie=m(()=>{var t;return(t=y==null?void 0:y.statusIcon)!=null?t:!1}),B=m(()=>(v==null?void 0:v.validateState)||""),je=m(()=>B.value&&Yt[B.value]),lt=m(()=>K.value?Pt:kt),ut=m(()=>[i.style,a.inputStyle]),Ae=m(()=>[a.inputStyle,W.value,{resize:a.resize}]),j=m(()=>Qt(a.modelValue)?"":String(a.modelValue)),Y=m(()=>a.clearable&&!E.value&&!a.readonly&&!!j.value&&(se.value||ne.value)),ie=m(()=>a.showPassword&&!E.value&&!a.readonly&&!!j.value&&(!!j.value||se.value)),_=m(()=>a.showWordLimit&&!!d.value.maxlength&&(a.type==="text"||a.type==="textarea")&&!E.value&&!a.readonly&&!a.showPassword),le=m(()=>j.value.length),ct=m(()=>!!_.value&&le.value>Number(d.value.maxlength)),pt=m(()=>!!l.suffix||!!a.suffixIcon||Y.value||a.showPassword||_.value||!!B.value&&Ie.value),[dt,ft]=Ao(U);At(C,t=>{if(vt(),!_.value||a.resize!=="both")return;const s=t[0],{width:h}=s.contentRect;Ce.value={right:`calc(100% - ${h+15+6}px)`}});const F=()=>{const{type:t,autosize:s}=a;if(!(!Je||t!=="textarea"||!C.value))if(s){const h=Fe(s)?s.minRows:void 0,Q=Fe(s)?s.maxRows:void 0,Ve=Ze(C.value,h,Q);W.value={overflowY:"hidden",...Ve},P(()=>{C.value.offsetHeight,W.value=Ve})}else W.value={minHeight:Ze(C.value).minHeight}},vt=(t=>{let s=!1;return()=>{var h;if(s||!a.autosize)return;((h=C.value)==null?void 0:h.offsetParent)===null||(t(),s=!0)}})(F),N=()=>{const t=$.value,s=a.formatter?a.formatter(j.value):j.value;!t||t.value===s||(t.value=s)},ue=async t=>{dt();let{value:s}=t.target;if(a.formatter&&(s=a.parser?a.parser(s):s),!M.value){if(s===j.value){N();return}r(ye,s),r("input",s),await P(),N(),ft()}},Ee=t=>{r("change",t.target.value)},$e=t=>{r("compositionstart",t),M.value=!0},_e=t=>{var s;r("compositionupdate",t);const h=(s=t.target)==null?void 0:s.value,Q=h[h.length-1]||"";M.value=!jo(Q)},Pe=t=>{r("compositionend",t),M.value&&(M.value=!1,ue(t))},yt=()=>{K.value=!K.value,ke()},ke=async()=>{var t;await P(),(t=$.value)==null||t.focus()},gt=()=>{var t;return(t=$.value)==null?void 0:t.blur()},mt=t=>{ne.value=!1,r("mouseleave",t)},bt=t=>{ne.value=!0,r("mouseenter",t)},ze=t=>{r("keydown",t)},ht=()=>{var t;(t=$.value)==null||t.select()},Oe=()=>{r(ye,""),r("change",""),r("clear"),r("input","")};return te(()=>a.modelValue,()=>{var t;P(()=>F()),a.validateEvent&&((t=v==null?void 0:v.validate)==null||t.call(v,"change").catch(s=>Re()))}),te(j,()=>N()),te(()=>a.type,async()=>{await P(),N(),F()}),Bt(()=>{!a.formatter&&a.parser,N(),P(F)}),n({input:U,textarea:C,ref:$,textareaStyle:Ae,autosize:Ft(a,"autosize"),focus:ke,blur:gt,select:ht,clear:Oe,resizeTextarea:F}),(t,s)=>Nt((g(),T("div",fe(o(c),{class:o(w),style:o(ut),role:t.containerRole,onMouseenter:bt,onMouseleave:mt}),[b(" input "),t.type!=="textarea"?(g(),T(de,{key:0},[b(" prepend slot "),t.$slots.prepend?(g(),T("div",{key:0,class:x(o(u).be("group","prepend"))},[X(t.$slots,"prepend")],2)):b("v-if",!0),k("div",{ref_key:"wrapperRef",ref:it,class:x(o(f))},[b(" prefix slot "),t.$slots.prefix||t.prefixIcon?(g(),T("span",{key:0,class:x(o(u).e("prefix"))},[k("span",{class:x(o(u).e("prefix-inner"))},[X(t.$slots,"prefix"),t.prefixIcon?(g(),I(o(R),{key:0,class:x(o(u).e("icon"))},{default:D(()=>[(g(),I(Z(t.prefixIcon)))]),_:1},8,["class"])):b("v-if",!0)],2)],2)):b("v-if",!0),k("input",fe({id:o(Se),ref_key:"input",ref:U,class:o(u).e("inner")},o(d),{type:t.showPassword?K.value?"text":"password":t.type,disabled:o(E),formatter:t.formatter,parser:t.parser,readonly:t.readonly,autocomplete:t.autocomplete,tabindex:t.tabindex,"aria-label":t.label,placeholder:t.placeholder,style:t.inputStyle,form:a.form,autofocus:a.autofocus,onCompositionstart:$e,onCompositionupdate:_e,onCompositionend:Pe,onInput:ue,onFocus:s[0]||(s[0]=(...h)=>o(G)&&o(G)(...h)),onBlur:s[1]||(s[1]=(...h)=>o(q)&&o(q)(...h)),onChange:Ee,onKeydown:ze}),null,16,Vo),b(" suffix slot "),o(pt)?(g(),T("span",{key:1,class:x(o(u).e("suffix"))},[k("span",{class:x(o(u).e("suffix-inner"))},[!o(Y)||!o(ie)||!o(_)?(g(),T(de,{key:0},[X(t.$slots,"suffix"),t.suffixIcon?(g(),I(o(R),{key:0,class:x(o(u).e("icon"))},{default:D(()=>[(g(),I(Z(t.suffixIcon)))]),_:1},8,["class"])):b("v-if",!0)],64)):b("v-if",!0),o(Y)?(g(),I(o(R),{key:1,class:x([o(u).e("icon"),o(u).e("clear")]),onMousedown:Lt(o($t),["prevent"]),onClick:Oe},{default:D(()=>[Dt(o(Et))]),_:1},8,["class","onMousedown"])):b("v-if",!0),o(ie)?(g(),I(o(R),{key:2,class:x([o(u).e("icon"),o(u).e("password")]),onClick:yt},{default:D(()=>[(g(),I(Z(o(lt))))]),_:1},8,["class"])):b("v-if",!0),o(_)?(g(),T("span",{key:3,class:x(o(u).e("count"))},[k("span",{class:x(o(u).e("count-inner"))},J(o(le))+" / "+J(o(d).maxlength),3)],2)):b("v-if",!0),o(B)&&o(je)&&o(Ie)?(g(),I(o(R),{key:4,class:x([o(u).e("icon"),o(u).e("validateIcon"),o(u).is("loading",o(B)==="validating")])},{default:D(()=>[(g(),I(Z(o(je))))]),_:1},8,["class"])):b("v-if",!0)],2)],2)):b("v-if",!0)],2),b(" append slot "),t.$slots.append?(g(),T("div",{key:1,class:x(o(u).be("group","append"))},[X(t.$slots,"append")],2)):b("v-if",!0)],64)):(g(),T(de,{key:1},[b(" textarea "),k("textarea",fe({id:o(Se),ref_key:"textarea",ref:C,class:o(Te).e("inner")},o(d),{tabindex:t.tabindex,disabled:o(E),readonly:t.readonly,autocomplete:t.autocomplete,style:o(Ae),"aria-label":t.label,placeholder:t.placeholder,form:a.form,autofocus:a.autofocus,onCompositionstart:$e,onCompositionupdate:_e,onCompositionend:Pe,onInput:ue,onFocus:s[2]||(s[2]=(...h)=>o(G)&&o(G)(...h)),onBlur:s[3]||(s[3]=(...h)=>o(q)&&o(q)(...h)),onChange:Ee,onKeydown:ze}),null,16,Mo),o(_)?(g(),T("span",{key:0,style:Ht(Ce.value),class:x(o(u).e("count"))},J(o(le))+" / "+J(o(d).maxlength),7)):b("v-if",!0)],64))],16,Oo)),[[Rt,t.type!=="hidden"]])}});var No=_t(Fo,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const qo=zt(No);export{qo as E,H as S,Go as U,to as a,Wo as b,va as c,Ua as d,at as e,oa as f,Ko as g,ta as h,ua as i,Ga as j,eo as k,vo as l,yo as m,Ue as n,qa as o,Ra as p,uo as s};
