import{aB as b,l as C,v as U,I as F,A as l,y as e,z as a,C as d,aC as u,aG as c,aE as z,aF as w,aH as B,aI as I,aw as m,G as k}from"./index-49f4e068.js";import{E as N}from"./el-link-bd521b01.js";import{E as P,a as T}from"./el-form-item-b54faaaa.js";import{p as Z,e as q,f as A,E as D}from"./index-ba1dc6a7.js";import{E as G}from"./el-input-db802a4c.js";/* empty css                */import"./index-f0e26008.js";const R={style:{"text-align":"center",margin:"0 20px"}},$=l("div",{style:{"margin-top":"100px"}},[l("div",{style:{"font-size":"25px","font-weight":"bold"}},"新用户注册"),l("div",{style:{"font-size":"14px",color:"grey"}},"欢迎注册我们的围棋平台")],-1),H={style:{"margin-top":"50px"}},L={style:{"margin-top":"75px"}},M={style:{"margin-top":"20px"}},j=l("span",{style:{"font-size":"14px",color:"grey"}},"已有帐号?",-1),se={__name:"RegisterPage",setup(J){const t=b({id:0,username:"",password:"",password_repeat:"",email:"",code:"",salt:0,status:0,createdDate:"2023-10-12T13:09:58.634Z",updatedDate:"2023-10-12T13:09:58.634Z"}),x={username:[{validator:(n,s,o)=>{s===""?o(new Error("请输入用户名")):/^[\u4E00-\u9FFFa-zA-Z0-9]+$/.test(s)?o():o(new Error("用户名不能包含特殊字符，只能是中文/英文"))},trigger:["blur","change"]},{min:2,max:8,message:"用户名长度必须在2-8字符之间",trigger:["blur","change"]}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:16,message:"密码长度必须在6-16字符之间",trigger:["blur","change"]}],password_repeat:[{validator:(n,s,o)=>{s===""?o(new Error("请再次输入密码")):s!==t.password?o(new Error("两次输入的密码不一致")):o()},trigger:["blur","change"]}],email:[{required:!0,message:"请输入电子邮件",trigger:"blur"},{type:"email",message:"请输入合法的电子邮件地址",trigger:["blur","change"]}]},_=C(!1),y=(n,s)=>{n=="email"&&(_.value=s)},E=()=>{t.username?t.password?t.password_repeat!=t.password?u.warning("两次填写的密码需一致"):Z("/api/user/register",{username:t.username,password:t.password,email:t.email},n=>{n.resultCode!=0?u.warning("账号已被注册！"):(u.success("注册成功!"),c.push("/"))}):u.warning("请填写密码"):u.warning("请填写用户名")};return(n,s)=>{const o=k,p=G,i=T,f=A,g=q,V=D,v=P,h=N;return U(),F("div",R,[$,l("div",H,[e(v,{model:t,rules:x,onValidate:y},{default:a(()=>[e(i,{prop:"username"},{default:a(()=>[e(p,{modelValue:t.username,"onUpdate:modelValue":s[0]||(s[0]=r=>t.username=r),type:"text",placeholder:"用户名"},{prefix:a(()=>[e(o,null,{default:a(()=>[e(d(z))]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(i,{prop:"password"},{default:a(()=>[e(p,{modelValue:t.password,"onUpdate:modelValue":s[1]||(s[1]=r=>t.password=r),type:"password",placeholder:"密码"},{prefix:a(()=>[e(o,null,{default:a(()=>[e(d(w))]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(i,{prop:"password_repeat"},{default:a(()=>[e(p,{modelValue:t.password_repeat,"onUpdate:modelValue":s[2]||(s[2]=r=>t.password_repeat=r),type:"password",placeholder:"重复密码"},{prefix:a(()=>[e(o,null,{default:a(()=>[e(d(w))]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(i,{prop:"email"},{default:a(()=>[e(p,{modelValue:t.email,"onUpdate:modelValue":s[3]||(s[3]=r=>t.email=r),type:"email",placeholder:"电子邮件"},{prefix:a(()=>[e(o,null,{default:a(()=>[e(d(B))]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(i,{prop:"code"},{default:a(()=>[e(V,{gutter:10},{default:a(()=>[e(f,{span:18},{default:a(()=>[e(p,{modelValue:t.code,"onUpdate:modelValue":s[4]||(s[4]=r=>t.code=r),type:"email",placeholder:"验证码"},{prefix:a(()=>[e(o,null,{default:a(()=>[e(d(I))]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(f,{span:6},{default:a(()=>[e(g,{type:"success",disabled:!_.value},{default:a(()=>[m("获取验证码")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),l("div",L,[e(g,{onClick:E,style:{width:"270px"},type:"warning",plain:""},{default:a(()=>[m(" 立即注册 ")]),_:1})]),l("div",M,[j,e(h,{onClick:s[5]||(s[5]=r=>d(c).push("/")),type:"primary",style:{translate:"0 -2px"}},{default:a(()=>[m(" 立即登录 ")]),_:1})])])}}};export{se as default};
